(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,a){},124:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},155:function(e,t,a){},157:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},194:function(e,t,a){},196:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),o=a.n(s),r=a(28),i=a.n(r),c=(a(149),a(11)),l=a(12),h=a(14),u=a(13),d=(a(150),a(20)),p=a(19),j=a(22),b=a(143),m=a(47),O=Object(s.createContext)(null),f=function(e){var t=e.children,a=Object(s.useState)({authenticated:!1}),o=Object(m.a)(a,2),r=o[0],i=o[1];Object(s.useEffect)((function(){c()}),[]);var c=function(){fetch("http://localhost:8888/auth/login/success",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed to authenticate user")})).then((function(e){i({authenticated:!0,user:e.user})})).catch((function(e){i({authenticated:!1,error:"Failed to authenticated user"})}))},l={auth:r,logout:function(){window.open("http://localhost:8888/auth/logout","_self"),i({authenticated:!1})},getUserInfo:c};return Object(n.jsx)(O.Provider,{value:l,children:t})},g=function(){return o.a.useContext(O)};var y=function(e){var t=e.component,a=Object(b.a)(e,["component"]),s=g().auth;return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)(p.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return s.authenticated?Object(n.jsx)(t,Object(j.a)({},e)):Object(n.jsx)(p.a,{to:"/login"})}}))})},v=a(16);function x(e){return function(t){var a=g();return Object(n.jsx)(e,Object(j.a)(Object(j.a)({},t),{},{authCreds:a}))}}a(118);var k=a.p+"static/media/INKY.c0748b7d.png",C=(a(6).createBootstrapComponent,{DISCONNECTED:0,CONNECTED:1,KICKED:2,GAME_ENDED:0,IN_LOBBY:1,IN_GAME:2,GAME_DISCONNECTED:3,ERR:-1}),w="",N=x(function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(o.a.Fragment,{children:this.props.authCreds.auth.authenticated?Object(n.jsx)(p.a,{to:"/"}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"internal-container",children:[Object(n.jsx)("img",{src:k,className:"logo"}),Object(n.jsx)(v.a,{className:"login-button",onClick:function(){return window.open("/auth/google","_self")},children:"Sign in With Google"}),Object(n.jsxs)("div",{className:"infoContainer",children:[Object(n.jsx)("h3",{children:"About"}),Object(n.jsx)("p",{children:"Inky io is an online pictionary game to cure quarantine boredom"}),Object(n.jsx)("p",{children:"Developed by Julian Pinto, Christina Lu, Dheeraj Kumar, Justin Flores, Richard Williams and Jen-Wei Huang"}),Object(n.jsx)("p",{children:"Enjoy!"})]})]})})})}}]),a}(s.Component)),S=a(9),D=(a(155),a(119)),R=a(76),F=a(120),P=a(121),I=a(80),M=x(function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"button-group",children:[this.props.showHome?Object(n.jsx)(d.b,{to:"/",children:Object(n.jsx)(v.a,{variant:"outline-dark",children:"Home"})}):"",Object(n.jsx)(d.b,{to:"/history",children:Object(n.jsx)(v.a,{variant:"outline-dark",onClick:this.props.history,children:"Match History"})}),Object(n.jsx)(d.b,{to:"/profile",children:Object(n.jsx)(v.a,{variant:"outline-dark",onClick:this.props.profile,children:"View Profile"})}),Object(n.jsx)(v.a,{variant:"outline-danger",onClick:this.props.authCreds.logout,children:"Logout"}),this.props.showCreateGame?Object(n.jsx)(v.a,{variant:"info",onClick:this.props.createGameClick,children:"Create Game"}):"",this.props.authCreds.auth.user.role?Object(n.jsx)(d.b,{to:"/report",children:Object(n.jsx)(v.a,{variant:"outline-dark",onClick:this.props.report,children:"View Report"})}):""]})}}]),a}(o.a.Component)),T=x(function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"internal-container",children:[Object(n.jsx)("img",{src:k,className:"logo"}),Object(n.jsx)("div",{className:"infoContainer",children:Object(n.jsx)("p",{children:"This account has been suspended permanently. Please contact us for more information."})})]})}),")"]})}}]),a}(s.Component));function E(){var e=o.a.useState(!1),t=Object(m.a)(e,2),a=t[0],n=t[1];return o.a.useEffect((function(){var e="undefined"===typeof window.navigator?"":navigator.userAgent,t=Boolean(e.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i));n(t)}),[]),{isMobile:a}}var A,L=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={gameCode:"",showRoomNotFound:!1},n.handleGameCodeChange=n.handleGameCodeChange.bind(Object(S.a)(n)),n.handleJoinGameClicked=n.handleJoinGameClicked.bind(Object(S.a)(n)),n.handleCreateGameClicked=n.handleCreateGameClicked.bind(Object(S.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"handleMatchHistoryClicked",value:function(){}},{key:"handleViewProfileClicked",value:function(){}},{key:"handleCreateGameClicked",value:function(){var e=this,t=this.props.authCreds.auth.user;fetch(w+"/lobby/create?hostId=".concat(t.id,"&hostName=").concat(t.name),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed create new room")})).then((function(t){var a={pathname:"/game/".concat(t.code)};e.props.history.push(a)})).catch((function(e){console.log(e)}))}},{key:"handleJoinGameClicked",value:function(){var e=this;""!==this.state.gameCode&&fetch("/lobby/join2",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:this.state.gameCode})}).then((function(e){if(200===e.status)return e.json();throw new Error("failed fetching room info")})).then((function(t){if(t.success){var a={pathname:"/game/".concat(t.code)};e.props.history.push(a)}else e.setState({showRoomNotFound:!0,gameCode:""})})).catch((function(e){console.log(e)}))}},{key:"handleGameCodeChange",value:function(e){this.setState({gameCode:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.authCreds.auth.user;return t.ban?Object(n.jsx)(p.a,{to:"/BanPage"}):Object(n.jsx)("div",{className:"page",children:Object(n.jsxs)("div",{className:"homepage-content",children:[Object(n.jsx)("h3",{children:t.name||"kirby placeholder"}),Object(n.jsx)("img",{className:"profile-picture",src:t.profileKey?"https://pokeres.bastionbot.org/images/pokemon/".concat(t.profileKey,".png"):"https://play.nintendo.com/images/profile-kirby-kirby.7bf2a8f2.aead314d58b63e27.png",alt:"pfp"}),Object(n.jsx)(M,{showCreateGame:!this.props.mobile,createGameClick:this.handleCreateGameClicked}),Object(n.jsxs)(D.a,{style:{maxWidth:"70%",margin:"10px auto"},children:[Object(n.jsx)(R.a,{disabled:this.props.mobile,placeholder:"Enter lobby code to join a game",value:this.state.gameCode,onChange:this.handleGameCodeChange,"aria-label":"Lobby Code"}),Object(n.jsx)(D.a.Append,{children:Object(n.jsx)(v.a,{disabled:this.props.mobile,variant:"success",onClick:this.handleJoinGameClicked,children:"Join Game"})})]}),Object(n.jsx)(F.a,{onClose:function(){return e.setState({showRoomNotFound:!1})},show:this.state.showRoomNotFound,delay:3e3,autohide:!0,style:{maxHeight:50},children:Object(n.jsx)(F.a.Body,{children:"Couldn't find the room you're looking for. Sorry!"})}),Object(n.jsx)(P.a,{defaultActiveKey:"0",className:"info",children:Object(n.jsxs)(I.a,{children:[Object(n.jsx)(I.a.Header,{children:Object(n.jsx)(P.a.Toggle,{as:v.a,variant:"link",eventKey:"0",children:"How to Play"})}),Object(n.jsx)(P.a.Collapse,{eventKey:"0",children:Object(n.jsxs)(I.a.Body,{children:["Create a game lobby and invite your friends to play or join an existing lobby above. Adjust the settings to your liking then start the game. When it's your turn to draw, choose one of the three words and visualize it before the time runs out. The more people that get the word right, the more points you win! When somebody else is drawing, type your guess into the chat to gain points. Be quick, the earlier you guess a word the more points you get! ",Object(n.jsx)("br",{}),Object(n.jsx)("u",{children:"Tip:"})," hints will appear above the canvas as time passes. ",Object(n.jsx)("br",{}),Object(n.jsx)("u",{children:"Note:"})," if you a player is making you feel uncomfortable at anytime, click their card on the left to report them"]})})]})})]})})}}]),a}(o.a.Component),G=x((A=L,function(e){var t=E().isMobile;return Object(n.jsx)(A,Object(j.a)(Object(j.a)({},e),{},{mobile:t}))})),W=a(26),H=(a(157),a(112)),_=a.n(H),B=x(function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={userUsername:n.props.authCreds.auth.user.name,userImageDisplay:n.props.authCreds.auth.user.profileKey?n.imageWebLink(n.props.authCreds.auth.user.profileKey):"https://play.nintendo.com/images/profile-kirby-kirby.7bf2a8f2.aead314d58b63e27.png",modalShow:!1,userImageDisplayIndex:0},n.usernameChange=n.usernameChange.bind(Object(S.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n.handleProfilePicture=n.handleProfilePicture.bind(Object(S.a)(n)),n.setModalShow=n.setModalShow.bind(Object(S.a)(n)),n.handleProfilePick=n.handleProfilePick.bind(Object(S.a)(n)),n.imageWebLink=n.imageWebLink.bind(Object(S.a)(n)),n}return Object(l.a)(a,[{key:"usernameChange",value:function(e){this.setState({userUsername:e.target.value})}},{key:"handleProfilePicture",value:function(){for(var e=[],t=1;t<=10;t++)e.push(Object(n.jsx)("img",{id:t,className:"pokemonImg",src:this.imageWebLink(t),onClick:this.handleProfilePick},t));return e}},{key:"handleProfilePick",value:function(e){this.setState({userImageDisplayIndex:e.target.id,userImageDisplay:this.imageWebLink(e.target.id),modalShow:!1})}},{key:"imageWebLink",value:function(e){return"https://pokeres.bastionbot.org/images/pokemon/".concat(e,".png")}},{key:"handleSubmit",value:function(){var e=this;fetch(w+"/profile/change/name?userID=".concat(this.props.authCreds.auth.user.id,"&newName=").concat(this.state.userUsername,"&userPicture=").concat(this.state.userImageDisplayIndex),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed create new room")})).then((function(t){console.log(t),e.props.authCreds.getUserInfo(),e.dialog.showAlert("Your update was successful!")})).catch((function(t){console.log(t),e.dialog.showAlert("Something went wrong please try again.")}))}},{key:"setModalShow",value:function(e){this.setState({modalShow:e})}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"page",children:Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)(M,{className:"nav",showCreateGame:!1,showHome:!0}),Object(n.jsx)("div",{className:"profilecontainer",children:Object(n.jsxs)("div",{className:"profile",children:[Object(n.jsxs)("div",{className:"picture",children:[Object(n.jsx)("img",{className:"profile-picture",src:this.state.userImageDisplay,alt:"pfp"}),Object(n.jsx)(v.a,{variant:"primary",className:"pickIcon",onClick:function(){return e.setModalShow(!0)},children:"Change Profile Picture"})]}),Object(n.jsxs)("div",{className:"name",children:[Object(n.jsx)("p",{className:"nameTitle",children:"Display Name: "}),Object(n.jsx)("input",{className:"nameInput",type:"text",value:this.state.userUsername,onChange:this.usernameChange})]}),Object(n.jsx)(v.a,{variant:"success",className:"savebutton",onClick:this.handleSubmit,children:"Save Changes"}),Object(n.jsx)(_.a,{ref:function(t){e.dialog=t}})]})}),Object(n.jsxs)(W.a,{show:this.state.modalShow,onHide:function(){return e.setModalShow(!1)},children:[Object(n.jsx)(W.a.Header,{children:"Icons"}),Object(n.jsx)(W.a.Body,{children:Object(n.jsx)("div",{id:"profilePictureContainer",className:"modalBody",children:this.handleProfilePicture()})}),Object(n.jsx)(W.a.Footer,{children:Object(n.jsx)(v.a,{onClick:function(){return e.setModalShow(!1)},children:"Close"})})]})]})})}}]),a}(o.a.Component)),K=(a(160),a(139)),J=a(82),V=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={numRounds:n.props.settings.rounds,drawingTime:n.props.settings.draw_time,customWords:"",roomLink:n.props.match.params.lobbyID,numRoundsOptions:[1,2,3,4,5,6,7,8,9,10],drawingTimeOptions:[5,30,45,60,75,90,100,115,130,145,160,175,190,200,215,230],roomLinkValue:"hover to see lobby link"},n.handleNumRoundsChange=n.handleNumRoundsChange.bind(Object(S.a)(n)),n.handleDrawingTimeChange=n.handleDrawingTimeChange.bind(Object(S.a)(n)),n.handleCustomWordChange=n.handleCustomWordChange.bind(Object(S.a)(n)),n.handleCopyClicked=n.handleCopyClicked.bind(Object(S.a)(n)),n.startGame=n.startGame.bind(Object(S.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.socket.on("setting-change",(function(t){e.setState({numRounds:t.rounds,drawingTime:t.draw_time})}))}},{key:"componentWillUnmount",value:function(){this.props.socket.off("setting-change")}},{key:"handleNumRoundsChange",value:function(e){var t=this.props.match;this.props.socket.emit("setting-change",t.params.lobbyID,{rounds:e.target.value,draw_time:this.state.drawingTime}),this.setState({numRounds:e.target.value})}},{key:"handleDrawingTimeChange",value:function(e){var t=this.props.match;this.props.socket.emit("setting-change",t.params.lobbyID,{rounds:this.state.numRounds,draw_time:e.target.value}),this.setState({drawingTime:e.target.value})}},{key:"handleCustomWordChange",value:function(e){this.setState({customWords:e.target.value})}},{key:"handleCopyClicked",value:function(){navigator.clipboard.writeText(this.state.roomLink)}},{key:"startGame",value:function(){var e=this.props.match;if(this.state.customWords.length){var t=this.state.customWords.split(",");this.props.socket.emit("add-words",e.params.lobbyID,t)}this.props.socket.emit("lobby-state-change",e.params.lobbyID,C.IN_GAME)}},{key:"renderSelectOptions",value:function(e){return e.map((function(e,t){return Object(n.jsx)("option",{children:e},t)}))}},{key:"countPlayers",value:function(){var e=0;return this.props.players.forEach((function(t){t.disconnected||e++})),e}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"game-lobby-page",children:Object(n.jsxs)("div",{className:"game-lobby-content",children:[Object(n.jsxs)("div",{className:"settings",children:[Object(n.jsx)("h3",{style:{textAlign:"center",paddingBottom:"1em"},children:"Settings"}),Object(n.jsxs)(K.a,{className:"settings-form",children:[Object(n.jsxs)(K.a.Group,{as:K.a.Row,children:[Object(n.jsx)(K.a.Label,{column:!0,sm:5,children:"Number of Rounds"}),Object(n.jsx)(J.a,{sm:7,children:Object(n.jsx)(K.a.Control,{as:"select",disabled:!this.props.isHost,value:this.state.numRounds,onChange:this.handleNumRoundsChange,children:this.renderSelectOptions(this.state.numRoundsOptions)})})]}),Object(n.jsxs)(K.a.Group,{as:K.a.Row,children:[Object(n.jsx)(K.a.Label,{column:!0,sm:5,children:"Drawing Time"}),Object(n.jsx)(J.a,{sm:7,children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(K.a.Control,{as:"select",disabled:!this.props.isHost,value:this.state.drawingTime,onChange:this.handleDrawingTimeChange,children:this.renderSelectOptions(this.state.drawingTimeOptions)}),Object(n.jsx)(D.a.Append,{children:Object(n.jsx)(D.a.Text,{children:"seconds"})})]})})]}),Object(n.jsxs)(K.a.Group,{as:K.a.Row,children:[Object(n.jsx)(K.a.Label,{column:!0,sm:5,children:"Customs Words"}),Object(n.jsx)(K.a.File,{style:{padding:"15px 0px"},children:Object(n.jsx)(K.a.File.Input,{})}),Object(n.jsx)(K.a.Control,{as:"textarea",disabled:!this.props.isHost,readOnly:!this.props.isHost,placeholder:"Leave blank to only use default words. Separate words with commas.",value:this.state.customWords,onChange:this.handleCustomWordChange})]}),Object(n.jsxs)(D.a,{onMouseOver:function(){e.setState({roomLinkValue:e.state.roomLink})},onMouseOut:function(){e.setState({roomLinkValue:"hover to see lobby link"})},children:[Object(n.jsx)(K.a.Control,{disabled:!0,readOnly:!0,value:this.state.roomLinkValue,ref:function(t){e.roomLinkText=t}}),Object(n.jsx)(D.a.Append,{children:Object(n.jsx)(v.a,{dvariant:"info",onClick:this.handleCopyClicked,children:"Copy"})})]})]}),Object(n.jsxs)("div",{className:"button-group",children:[Object(n.jsx)(d.b,{to:"/",className:"leave-lobby-btn",children:Object(n.jsx)(v.a,{variant:"outline-secondary",children:"Leave Lobby"})}),Object(n.jsx)(v.a,{className:"start-game-btn",variant:"success",disabled:!this.props.isHost,onClick:this.startGame,children:"Start Game"})]})]}),Object(n.jsxs)("div",{className:"players",children:[Object(n.jsx)("h3",{style:{textAlign:"center",paddingBottom:"1em"},children:"Players"}),Object(n.jsx)("div",{className:"player-grid",children:this.props.players.map((function(e,t){return e.state===C.DISCONNECTED||e.state===C.KICKED?"":Object(n.jsxs)("div",{className:"player-container",children:[Object(n.jsx)("img",{className:"player-pfp",src:e.profileKey?"https://pokeres.bastionbot.org/images/pokemon/".concat(e.profileKey,".png"):"https://play.nintendo.com/images/profile-kirby-kirby.7bf2a8f2.aead314d58b63e27.png",alt:"pfp"}),Object(n.jsx)("div",{children:e.name})]},t)}))})]})]})})}}]),a}(o.a.Component),U=Object(p.g)(V),Y=a(116),z=a.n(Y),X=[{name:"2.5",value:2.5},{name:"5",value:5},{name:"10",value:10}],q=[{name:"black",value:"#000000"},{name:"red",value:"#FF0000"},{name:"orange",value:"#FF8C00"},{name:"coral",value:"#F08080"},{name:"pink",value:"#FF98DC"},{name:"fuschsia",value:"#FF00FF"},{name:"purple",value:"#8F00F0"},{name:"turquoise",value:"#40E0D0"},{name:"blue",value:"#0000FF"},{name:"green",value:"#008000"},{name:"lime",value:"#00FF75"},{name:"yellow",value:"#FFFF00"},{name:"gold",value:"#FFD700"},{name:"brown",value:"#A52A2A"}];function Q(e){return Object(n.jsx)("div",{className:"color-option",onClick:function(t){t.preventDefault(),e.changeColor(e.colorVal)},style:{backgroundColor:e.colorVal},children:Object(n.jsx)("div",{className:"col-content",children:Object(n.jsx)("span",{children:""})})})}var Z=a(62),$=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).Sketch=function(e){e.setup=function(){e.createCanvas(n.myRef.current.offsetWidth,n.myRef.current.offsetHeight)},e.draw=function(){if(n.start){e.background("#ffffff");var t=e.width,a=e.height;n.props.strokes.forEach((function(n){e.strokeWeight(n.weight),e.stroke(n.color),e.line(n.x1*t,n.y1*a,n.x2*t,n.y2*a)})),n.start=!1}},e.reset=function(){console.log("Clearing canvas.."),e.clear(),e.background("#ffffff"),e.strokeCap(z.a.ROUND);var t=e.width,a=e.height;n.strokes.forEach((function(n){e.strokeWeight(n.weight),e.stroke(n.color),e.line(n.x1*t,n.y1*a,n.x2*t,n.y2*a)}))},e.mouseDragged=function(){var t=e.width,a=e.height;if(n.props.drawing&&0!==n.props.round_state){var s={type:0,x1:e.pmouseX/t,y1:e.pmouseY/a,x2:e.mouseX/t,y2:e.mouseY/a,color:n.color,weight:n.weight};n.strokes.push(s);var o=n.props.match;n.props.socket.emit("draw",o.params.lobbyID,s),e.strokeWeight(n.weight),e.stroke(n.color),e.line(e.pmouseX,e.pmouseY,e.mouseX,e.mouseY)}},e.onNewDrawing=function(t,a){if(1===t.type)e.clear(),e.background("#ffffff");else{var s=e.width,o=e.height;e.strokeWeight(t.weight),e.stroke(t.color),e.line(t.x1*s,t.y1*o,t.x2*s,t.y2*o)}n.strokes=a},e.windowResized=function(){n.myRef.current&&e.resizeCanvas(n.myRef.current.offsetWidth,n.myRef.current.offsetHeight),e.reset()},n.sketch=e},n.colorOptionOnClick=function(e){console.log("Changing pen color to ".concat(e)),n.color=e},n.strokeOptionClick=function(e){e.preventDefault(),console.log("Changing stroke weight to ".concat(e.target.value)),n.weight=parseInt(e.target.value)},n.eraser=function(){n.color="#FFFFF"},n.clearCanvas=function(){var e=n.props.match;n.props.socket.emit("draw",e.params.lobbyID,{type:1}),n.sketch.clear(),n.sketch.background("#ffffff")},n.myRef=o.a.createRef(),n.strokes=n.props.strokes,n.start=!0,n.color="#000000",n.weight=1,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log("Mounting canvas ".concat(this.start)),this.myP5=new z.a(this.Sketch,this.myRef.current),this.props.socket.on("draw",this.sketch.onNewDrawing)}},{key:"componentWillUnmount",value:function(){console.log("Unmounting canvas")}},{key:"renderColorOptions",value:function(){var e=this,t=[];return q.forEach((function(a,s){t.push(Object(n.jsx)(Q,{colorVal:a.value,changeColor:e.colorOptionOnClick},s))})),t}},{key:"renderStrokeOptions",value:function(){var e=this,t=[];return X.forEach((function(a,s){t.push(Object(n.jsx)(v.a,{variant:"dark",style:{padding:a.value+"px",maxWidth:"70px",width:"100%",borderRadius:"50px"},value:a.value,onClick:e.strokeOptionClick},s))})),t}},{key:"render",value:function(){return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("div",{id:"canvas",ref:this.myRef}),this.props.drawing?Object(n.jsxs)("div",{className:"canvas-tool-container",children:[Object(n.jsx)("div",{className:"color-options-container",children:this.renderColorOptions()}),Object(n.jsxs)("div",{className:"tools",children:[Object(n.jsx)(o.a.Fragment,{children:this.renderStrokeOptions()}),Object(n.jsx)(v.a,{variant:"outline-info",onClick:this.eraser,children:Object(n.jsx)(Z.b,{})}),Object(n.jsx)(v.a,{variant:"outline-info",onClick:this.clearCanvas,children:Object(n.jsx)(Z.c,{})})]})]}):Object(n.jsx)(n.Fragment,{})]})}}]),a}(s.Component),ee=Object(p.g)($),te=(a(161),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(S.a)(n)),n}return Object(l.a)(a,[{key:"handleClick",value:function(e){var t=this.props.match;this.props.socket.emit("turn-start",t.params.lobbyID,e)}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"words-modal",style:{display:this.props.show?"block":"none"},children:Object(n.jsxs)(I.a,{children:[Object(n.jsx)(I.a.Header,{children:Object(n.jsx)(I.a.Title,{children:this.props.isArtist?"Pick a Word":this.props.artistName+" is picking a word"})}),Object(n.jsx)(I.a.Footer,{children:this.props.isArtist?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(v.a,{className:"word-btn",variant:"outline-dark",onClick:function(){return e.handleClick(e.props.words[0])},children:this.props.words[0]}),Object(n.jsx)(v.a,{className:"word-btn",variant:"outline-dark",onClick:function(){return e.handleClick(e.props.words[1])},children:this.props.words[1]}),Object(n.jsx)(v.a,{className:"word-btn",variant:"outline-dark",onClick:function(){return e.handleClick(e.props.words[2])},children:this.props.words[2]})]}):Object(n.jsx)("p",{children:"The round will start when a word is chosen!"})})]})})}}]),a}(o.a.Component)),ae=Object(p.g)(te);a(162);function ne(e){return Object(n.jsxs)("div",{className:"canvas-container",children:[Object(n.jsx)(ee,{socket:e.socket,strokes:e.strokes,drawing:e.drawing,round_state:e.round_state}),Object(n.jsx)("div",{className:"custom-modal",onClick:function(e){e.preventDefault()},children:Object(n.jsx)(ae,{socket:e.socket,show:0===e.round_state,isArtist:e.drawing,artistName:e.drawer,round_state:e.round_state,words:e.word_list})})]})}var se=a(142),oe=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("p",{className:"message",children:[Object(n.jsxs)("span",{className:"message-name",children:[Object(n.jsx)("b",{children:this.props.message.name}),":  "]}),Object(n.jsx)("span",{className:"message-content",children:this.props.message.content})]})}}]),a}(s.Component),re=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={currentMessage:"",messageLog:[]},n.handleChange=n.handleChange.bind(Object(S.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({currentMessage:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.match;this.props.socket.emit("chat",t.params.lobbyID,this.state.currentMessage),this.setState({currentMessage:""})}},{key:"componentDidMount",value:function(){var e=this;this.props.socket.on("chat",(function(t,a){console.log('received "'.concat(t,": ").concat(a,'"')),e.setState({messageLog:[].concat(Object(se.a)(e.state.messageLog),[{name:t,content:a}])})}))}},{key:"render",value:function(){return Object(n.jsxs)(I.a,{style:{height:"100%"},children:[Object(n.jsx)(I.a.Body,{children:this.state.messageLog.map((function(e,t){return Object(n.jsx)(oe,{message:e},t)}))}),Object(n.jsx)(I.a.Footer,{children:Object(n.jsx)(K.a,{onSubmit:this.handleSubmit,children:Object(n.jsx)(K.a.Control,{type:"input",onChange:this.handleChange,value:this.state.currentMessage,placeholder:"type your guess here"})})})]})}}]),a}(s.Component),ie=Object(p.g)(re),ce=(a(124),a(91)),le=a(122),he=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={showReportModal:!1,showReportPopover:!1,cheating:!1,verbalAbuse:!1,inappropriateName:!1},n.cardRef=o.a.createRef(),n.reportPlayer=n.reportPlayer.bind(Object(S.a)(n)),n.initiateReportPlayer=n.initiateReportPlayer.bind(Object(S.a)(n)),n.renderReportModal=n.renderReportModal.bind(Object(S.a)(n)),n.renderReportOverlay=n.renderReportOverlay.bind(Object(S.a)(n)),n}return Object(l.a)(a,[{key:"getVariant",value:function(e){switch(e){case C.CONNECTED:return"primary";case C.KICKED:return"dark";case C.DISCONNECTED:return"secondary";default:return"warning"}}},{key:"initiateReportPlayer",value:function(){console.log("reporting",this.props.player),this.setState({showReportPopover:!1,showReportModal:!0})}},{key:"reportPlayer",value:function(){console.log("reported "+this.props.player,this.state),(this.state.cheating||this.state.verbalAbuse||this.state.inappropriateName)&&this.props.socket.emit("report",this.props.lobby,this.props.player.id,this.props.player.name,{cheating:this.state.cheating,verbalAbuse:this.state.verbalAbuse,inappropriateName:this.state.inappropriateName}),this.setState({cheating:!1,verbalAbuse:!1,inappropriateName:!1,showReportModal:!1})}},{key:"renderReportModal",value:function(){var e=this;return Object(n.jsxs)(W.a,{show:this.state.showReportModal,onHide:function(){return e.setState({showReportModal:!1})},children:[Object(n.jsx)(W.a.Header,{closeButton:!0,children:Object(n.jsxs)(W.a.Title,{children:["Why are you reporting ",this.props.player.name,"?"]})}),Object(n.jsxs)(W.a.Body,{children:[Object(n.jsx)("p",{children:"Check all that apply"}),Object(n.jsx)(K.a.Check,{label:"Cheating",type:"checkbox",value:this.state.cheating,onChange:function(){return e.setState({cheating:!e.state.cheating})}}),Object(n.jsx)(K.a.Check,{label:"Verbal Abuse",type:"checkbox",value:this.state.verbalAbuse,onChange:function(){return e.setState({verbalAbuse:!e.state.verbalAbuse})}}),Object(n.jsx)(K.a.Check,{label:"Inappropriate Name",type:"checkbox",value:this.state.inappropriateName,onChange:function(){return e.setState({inappropriateName:!e.state.inappropriateName})}})]}),Object(n.jsxs)(W.a.Footer,{children:[Object(n.jsx)(v.a,{variant:"warning",onClick:function(){return e.setState({showReportModal:!1})},children:"Cancel"}),Object(n.jsx)(v.a,{variant:"danger",onClick:function(){return e.reportPlayer()},children:"Report"})]})]})}},{key:"renderReportOverlay",value:function(){var e=this;return this.props.player.state===C.CONNECTED?Object(n.jsx)(ce.a,{target:this.cardRef,show:this.state.showReportPopover,placement:"right",children:Object(n.jsx)(le.a,{children:Object(n.jsxs)("div",{className:"report-popover",children:[Object(n.jsx)("span",{children:"Report? "}),Object(n.jsx)(v.a,{variant:"outline-danger",onClick:function(){return e.setState({showReportPopover:!1})},children:Object(n.jsx)(Z.d,{})}),Object(n.jsx)(v.a,{variant:"outline-success",onClick:function(){return e.initiateReportPlayer()},children:Object(n.jsx)(Z.a,{})})]})})}):Object(n.jsx)(n.Fragment,{})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"player",children:[Object(n.jsx)("a",{style:{cursor:"pointer"},ref:this.cardRef,onClick:function(){return e.setState({showReportPopover:!0})},children:Object(n.jsxs)(I.a,{id:"player-card",border:"dark",bg:this.getVariant(this.props.player.state),children:[Object(n.jsx)(I.a.Header,{children:this.props.player.name}),Object(n.jsx)(I.a.Body,{children:Object(n.jsxs)(I.a.Text,{children:[Object(n.jsxs)("b",{children:["# ",this.props.index+1,"\u2003"]}),this.props.player.score]})})]})}),this.state.showReportPopover?this.renderReportOverlay():Object(n.jsx)(n.Fragment,{}),this.state.showReportModal?this.renderReportModal():Object(n.jsx)(n.Fragment,{})]})}}]),a}(o.a.Component),ue=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"player-sidebar",children:this.props.players.sort((function(e,t){return t.score-e.score})).map((function(t,a){return Object(n.jsx)(he,{player:t,index:a,lobby:e.props.lobby,socket:e.props.socket},a)}))})}}]),a}(o.a.Component);a(163);function de(e){var t=Object(s.useState)(e.timer),a=Object(m.a)(t,2),r=a[0],i=a[1];return Object(s.useEffect)((function(){e.socket.on("time-update",(function(e){i(e)}))}),[]),Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("img",{className:"timer",src:"https://i.pinimg.com/originals/2a/0c/fe/2a0cfecd615bed18b3cf4688d2b5962c.png",alt:"pfp"}),Object(n.jsx)("div",{children:r})]})}var pe=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={strokes:[],hint:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.socket.on("game-status",(function(t){e.setState(Object(j.a)({},t))})),this.getRoundStatus(),this.props.socket.on("new-round-status",(function(){return e.getRoundStatus()}))}},{key:"getTime",value:function(){this.props.socket.emit("timesync",this.props.match.params.lobbyID)}},{key:"getRoundStatus",value:function(){var e=this.props.match.params.lobbyID,t=this.props.authCreds.auth.user;this.props.socket.emit("game-status",e,t.id)}},{key:"render",value:function(){var e=this.props.authCreds.auth.user;return Object(n.jsxs)("div",{className:"game-page",children:[Object(n.jsx)(d.b,{to:"/",className:"leave-lobby-btn",children:Object(n.jsx)(v.a,{variant:"outline-secondary",children:"Leave Lobby"})}),Object(n.jsxs)("div",{className:"game-header",children:[Object(n.jsx)("div",{className:"empty-placeholder",style:{width:"15%"}}),Object(n.jsxs)("div",{className:"canvas-header",children:[Object(n.jsx)("h3",{style:{width:"max-content",margin:"auto"},children:this.state.hint}),Object(n.jsx)("div",{className:"timer",children:Object(n.jsx)(de,{socket:this.props.socket,timer:this.state.timer})})]}),Object(n.jsx)("div",{className:"empty-placeholder",style:{width:"25%"}})]}),Object(n.jsxs)("div",{className:"game-contents",children:[Object(n.jsx)("div",{className:"players-container",children:Object(n.jsx)(ue,{className:"players-container",players:this.props.players,lobby:this.props.match.params.lobbyID,socket:this.props.socket})}),Object(n.jsx)(ne,{socket:this.props.socket,drawer:this.state.drawer?this.state.drawer.name:"",round_state:this.state.round_state,word_list:this.state.word_list,drawing:!!this.state.drawer&&this.state.drawer.id===e.id,strokes:this.state.strokes}),Object(n.jsx)("div",{className:"chat-container",children:Object(n.jsx)(ie,{socket:this.props.socket})})]})]})}}]),a}(s.Component),je=function(e){return function(t){var a=g();return Object(n.jsx)(e,Object(j.a)(Object(j.a)({},t),{},{authCreds:a}))}}(Object(p.g)(pe)),be=a(141),me=a.n(be);var Oe=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={host:!1,socket:me.a.connect(w)},n.onJoin=n.onJoin.bind(Object(S.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.socket.once("connect",(function(e){console.log("Connected to the server socket...")}));var t=this.props.match.params.lobbyID,a=this.props.authCreds.auth.user;this.state.socket.on("join",this.onJoin),this.state.socket.on("player-list-update",(function(t){e.setState({host:t.host.id===a.id,host_info:t.host,players:t.players})})),this.state.socket.on("score",(function(t){e.setState((function(e){return{players:e.players.map((function(e){return e.id===t.user_id?Object.assign(e,{score:t.score}):e}))}}))})),this.state.socket.emit("join",{lobby_id:t,player:{id:a.id,name:a.name,profileKey:a.profileKey}}),this.state.socket.on("state-change",(function(t){e.setState({state:t})})),this.state.socket.on("disconnect",(function(e){console.log("Disconnected  from server..."),"ping timeout"!==e&&"transport close"!==e&&"transport error"!==e||console.log("Handle these properly")}))}},{key:"componentWillUnmount",value:function(){this.state.socket.disconnect()}},{key:"onJoin",value:function(e){var t=this.props.authCreds.auth.user;e.success?this.setState({host:e.lobby.host.id===t.id,host_info:e.lobby.host,settings:e.lobby.settings,players:e.lobby.players,state:e.lobby.state}):this.props.history.push("/")}},{key:"pageManager",value:function(){return this.state.state===C.IN_LOBBY?Object(n.jsx)(U,{socket:this.state.socket,isHost:this.state.host,players:this.state.players,settings:this.state.settings}):this.state.state===C.IN_GAME?Object(n.jsx)(je,{players:this.state.players,socket:this.state.socket}):this.state.state===C.GAME_DISCONNECTED?Object(n.jsx)(p.a,{to:"/"}):void 0}},{key:"render",value:function(){return Object(n.jsx)(o.a.Fragment,{children:this.pageManager()})}}]),a}(s.Component),fe=x(Object(p.g)(Oe));a(194);function ge(e){return Object(n.jsxs)(W.a,Object(j.a)(Object(j.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(W.a.Header,{closeButton:!0,children:Object(n.jsx)(W.a.Title,{id:"contained-modal-title-vcenter",children:e.title})}),Object(n.jsx)(W.a.Body,{children:e.islog?e.body.map((function(e){return Object(n.jsx)("li",{children:e},e)})):e.body}),Object(n.jsxs)(W.a.Footer,{children:[Object(n.jsx)(v.a,{onClick:function(){e.onHide()},children:"Close"}),e.islog?"":Object(n.jsx)(v.a,{onClick:function(){e.onHide(),e.actionforyes(e.document)},children:"Yes"}),e.islog?"":Object(n.jsx)(v.a,{onClick:function(){e.onHide(),e.actionforno(e.document)},children:"No"})]})]}))}function ye(e){var t=o.a.useState(!1),a=Object(m.a)(t,2),s=a[0],r=a[1];return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(v.a,{variant:"outline-dark",onClick:function(){r(!0),e.chatLogFunc(e.document)},children:e.title}),Object(n.jsx)(ge,{show:s,option:e.option,onHide:function(){r(!1),e.clearMesFunc()},title:e.title,body:e.body,islog:e.islog,actionforyes:e.actionforyes,actionforno:e.actionforno,document:e.document})]})}var ve=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={messages:[],documents:[],players:[],reasons:[],dates:[],lobbyIDs:[]},n.deleteReport=n.deleteReport.bind(Object(S.a)(n)),n.gettingReport=n.gettingReport.bind(Object(S.a)(n)),n.banPlayer=n.banPlayer.bind(Object(S.a)(n)),n.getChatLog=n.getChatLog.bind(Object(S.a)(n)),n.clearMessages=n.clearMessages.bind(Object(S.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.gettingReport()}},{key:"gettingReport",value:function(){var e=this;fetch("/report/report",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed to get the report")})).then((function(t){e.setState({documents:t.document,players:t.player,reasons:t.reason,dates:t.date,lobbyIDs:t.lobbyID})})).catch((function(e){console.log(e)}))}},{key:"deleteReport",value:function(e){var t=this;console.log("delete Report"),fetch(w+"/report/delete?documentID=".concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed create new room")})).then((function(e){console.log(e),e.success&&t.setState({documents:e.document,players:e.player,reasons:e.reason,dates:e.date,lobbyIDs:e.lobbyID})})).catch((function(e){console.log(e)}))}},{key:"banPlayer",value:function(e){var t=this;console.log("ban player"),fetch(w+"/report/ban?documentID=".concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed create new room")})).then((function(e){console.log(e),e.success&&t.setState({documents:e.document,players:e.player,reasons:e.reason,dates:e.date,lobbyIDs:e.lobbyID})})).catch((function(e){console.log(e)}))}},{key:"getChatLog",value:function(e){var t=this;console.log("getting chat log"),fetch(w+"/report/chatLog?documentID=".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed create new room")})).then((function(e){e.success&&t.setState({messages:e.message})})).catch((function(e){console.log(e)}))}},{key:"clearMessages",value:function(){this.setState({messages:[]})}},{key:"render",value:function(){var e,t=[];for(e=0;e<this.state.documents.length;e++){var a=new Date(this.state.dates[e]);t.push(Object(n.jsx)(I.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"myContainer",children:[Object(n.jsxs)("div",{className:"PlayerName",children:[" ","Player: ",this.state.players[e]]}),Object(n.jsxs)("div",{className:"Date",children:[" ","Date: ",a.getFullYear(),"/",a.getMonth()+1,"/",a.getDate()]}),Object(n.jsxs)("div",{className:"Reason",children:[" ","Reason: ",this.state.reasons[e]]})]}),Object(n.jsxs)("div",{className:"button-group",children:[Object(n.jsx)(ye,{option:"delete",title:"Delete Report",body:"Are you sure that you wanna delete the report?",actionforyes:this.deleteReport,chatLogFunc:function(){},actionforno:function(){},document:this.state.documents[e],clearMesFunc:this.clearMessages}),Object(n.jsx)(ye,{option:"log",title:"Chat History",body:this.state.messages,islog:!0,document:this.state.documents[e],chatLogFunc:this.getChatLog,clearMesFunc:this.clearMessages}),Object(n.jsx)(ye,{option:"ban",title:"Ban player",body:"Are you sure that you wanna ban the player?",actionforyes:this.banPlayer,chatLogFunc:function(){},actionforno:this.deleteReport,document:this.state.documents[e],clearMesFunc:this.clearMessages})]})]})},e))}return Object(n.jsxs)("div",{className:"content",children:[Object(n.jsxs)("h3",{className:"Title",children:["Report",Object(n.jsx)(d.b,{to:"/",children:Object(n.jsx)(v.a,{className:"home",variant:"info",children:"Home"})})]}),t]})}}]),a}(o.a.Component),xe=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(d.a,{children:Object(n.jsxs)(p.d,{children:[Object(n.jsx)(p.b,{exact:!0,path:"/login",component:N}),Object(n.jsx)(y,{exact:!0,path:"/",component:G}),Object(n.jsx)(y,{exact:!0,path:"/banPage",component:T}),Object(n.jsx)(y,{exact:!0,path:"/profile",component:B}),Object(n.jsx)(y,{exact:!0,path:"/game/:lobbyID",component:fe}),Object(n.jsx)(y,{exact:!0,path:"/report",component:ve})]})})})}}]),a}(s.Component),ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,201)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),o(e),r(e)}))};a(195);i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(f,{children:Object(n.jsx)(xe,{})})}),document.getElementById("root")),ke()}},[[196,1,2]]]);
//# sourceMappingURL=main.e1ca4a3b.chunk.js.map