{"version":3,"sources":["Utils/Constants.js","context/auth-context.js","Utils/ProtectedRoute.js","context/AuthContext.js","images/INKY.png","pages/LoginPage.js","components/NavBar.js","pages/BanPage.js","Utils/DeviceDetect.js","pages/HomePage.js","pages/ProfilePage.js","pages/GameLobbyPage.js","components/GameComponents/weights.js","components/GameComponents/colors.js","components/GameComponents/ColorBox.js","components/GameComponents/Canvas.js","components/GameComponents/WordsModal.js","components/GameComponents/CanvasContainer.js","components/GameComponents/ChatMessage.js","components/GameComponents/ChatBox.js","components/GameComponents/PlayerContainer.js","components/GameComponents/PlayerSidebar.js","components/GameComponents/Timer.js","pages/GamePage.js","pages/GameEndingPage.js","pages/Game.js","pages/AdminPage.js","pages/MatchHistoryPage.js","App.js","reportWebVitals.js","index.js"],"names":["constants","require","createBootstrapComponent","DISCONNECTED","CONNECTED","KICKED","GAME_ENDED","IN_LOBBY","IN_GAME","GAME_DISCONNECTED","ERR","SERVER_URL","AuthContext","createContext","AuthProvider","children","useState","authenticated","auth","setAuth","useEffect","getUserInfo","fetch","method","credentials","headers","Accept","then","response","status","json","Error","responseJson","user","catch","error","authContextValue","logout","window","open","Provider","value","useAuth","React","useContext","ProtectedRoute","RouteComponent","component","rest","Fragment","render","props","to","Component","authCreds","this","className","src","logo","Button","onClick","showHome","variant","history","profile","showCreateGame","createGameClick","role","report","DeviceDetect","isMobile","setMobile","userAgent","navigator","mobile","Boolean","match","HomePage","state","gameCode","showRoomNotFound","joinButtonTarget","createRef","handleGameCodeChange","bind","handleJoinGameClicked","handleCreateGameClicked","id","name","location","pathname","code","push","console","log","body","JSON","stringify","userID","res","res_json","success","setState","gameErrorMessage","message","setTimeout","err","e","target","ban","profileKey","alt","InputGroup","style","maxWidth","margin","FormControl","disabled","placeholder","onChange","aria-label","Append","ref","Overlay","show","placement","onClose","Popover","Content","Accordion","defaultActiveKey","Card","Header","Toggle","as","eventKey","Collapse","Body","userUsername","userImageDisplay","imageWebLink","modalShow","userImageDisplayIndex","usernameChange","handleSubmit","handleProfilePicture","setModalShow","handleProfilePick","event","pokemonImgList","i","dialog","showAlert","see","type","Modal","onHide","Footer","GameLobbyPage","numRounds","settings","rounds","drawingTime","draw_time","customWords","roomLink","params","lobbyID","numRoundsOptions","drawingTimeOptions","roomLinkValue","handleNumRoundsChange","handleDrawingTimeChange","handleCustomWordChange","handleCopyClicked","startGame","kickPlayerClicked","kick","socket","on","setting","playerId","offAny","emit","clipboard","writeText","length","split","options","map","index","count","players","forEach","player","disconnected","playerID","parentNode","lobby_id","textAlign","paddingBottom","Form","Group","Row","Label","column","sm","Col","Control","isHost","renderSelectOptions","Text","readOnly","onMouseOver","onMouseOut","el","roomLinkText","dvariant","hostId","withRouter","weights","colors","ColorBox","preventDefault","changeColor","colorVal","backgroundColor","Canvas","Sketch","sketch","setup","createCanvas","myRef","current","offsetWidth","offsetHeight","draw","start","background","w","width","h","height","strokes","stroke","strokeWeight","weight","color","line","x1","y1","x2","y2","reset","clear","strokeCap","p5","ROUND","mouseDragged","time","Date","getTime","prevCall","drawing","round_state","msg","pmouseX","pmouseY","mouseX","mouseY","onNewDrawing","windowResized","resizeCanvas","colorOptionOnClick","strokeOptionClick","parseInt","eraser","clearCanvas","myP5","removeListener","remove","col","padding","borderRadius","renderColorOptions","renderStrokeOptions","WordsModal","handleClick","word","display","Title","isArtist","artistName","words","CanvasContainer","drawer","word_list","ChatMessage","content","ChatBox","currentMessage","messageLog","handleChange","lobby","ok","Promise","reject","fetchChats","chatLog","onSubmit","PlayerContainer","showReportModal","showReportPopover","cheating","verbalAbuse","inappropriateName","cardRef","reportPlayer","initiateReportPlayer","renderReportModal","renderReportOverlay","playerState","closeButton","Check","label","cursor","border","bg","getVariant","score","PlayerSidebar","sort","a","b","Timer","timer","GamePage","hint","interval","syncInterval","clearInterval","playing","setInterval","getRoundStatus","data","withAuth","GameEndingPage","usersInLobby","sortWinner","playAgainClicked","leaveClicked","arr","j","temp","reverse","displayarray","Img","slice","Game","host","io","connect","onJoin","once","host_info","prevState","obj","user_id","Object","assign","new_state","reason","disconnect","pageManager","MyOverlay","size","aria-labelledby","centered","title","islog","element","actionforyes","document","actionforno","chatLogFunc","option","clearMesFunc","AdminPage","messages","documents","reasons","dates","lobbyIDs","deleteReport","gettingReport","banPlayer","getChatLog","clearMessages","date","documentID","card","getFullYear","getMonth","getDate","errorMessage","gameHistory","getLobbies","getUserPlacementString","getUserScore","username","scores","findIndex","find","_seconds","toLocaleString","year","month","day","hour","minute","Table","responsive","App","exact","path","LoginPage","BanPage","ProfilePage","MatchHistoryPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.76bb9c80.chunk.js","sourcesContent":["const {\n  createBootstrapComponent,\n} = require(\"react-bootstrap/esm/ThemeProvider\");\n\n// Player states\nconst DISCONNECTED = 0;\nconst CONNECTED = 1;\nconst KICKED = 2;\n\n// Game states\nconst GAME_ENDED = 0;\nconst IN_LOBBY = 1;\nconst IN_GAME = 2;\nconst GAME_DISCONNECTED = 3;\n\nconst ERR = -1;\n\nconst constants = {\n  DISCONNECTED: DISCONNECTED,\n  CONNECTED: CONNECTED,\n  KICKED: KICKED,\n  GAME_ENDED: GAME_ENDED,\n  IN_LOBBY: IN_LOBBY,\n  IN_GAME: IN_GAME,\n  GAME_DISCONNECTED: GAME_DISCONNECTED,\n  ERR: ERR,\n};\n\nexport default constants;\n\nexport const SERVER_URL =\n  process.env.NODE_ENV !== \"production\" ? \"http://localhost:8888\" : \"\";\n","import React, { createContext, useState, useEffect } from \"react\";\nimport { SERVER_URL } from \"../Utils/Constants\";\nconst AuthContext = createContext(null);\n\nconst AuthProvider = ({ children }) => {\n  const [auth, setAuth] = useState({\n    authenticated: false,\n  });\n\n  useEffect(() => {\n    getUserInfo();\n  }, []);\n\n  const logout = () => {\n    window.open(SERVER_URL + \"/auth/logout\", \"_self\");\n    setAuth({\n      authenticated: false,\n    });\n  };\n\n  const getUserInfo = () => {\n    fetch(SERVER_URL + \"/auth/login/success\", {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Credentials\": true,\n      },\n    })\n      .then((response) => {\n        if (response.status === 200) return response.json();\n        throw new Error(\"failed to authenticate user\");\n      })\n      .then((responseJson) => {\n        setAuth({\n          authenticated: true,\n          user: responseJson.user,\n        });\n      })\n      .catch((error) => {\n        setAuth({\n          authenticated: false,\n          error: \"Failed to authenticated user\",\n        });\n      });\n  };\n\n  const authContextValue = {\n    auth,\n    logout,\n    getUserInfo,\n  };\n\n  return (\n    <AuthContext.Provider value={authContextValue}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nconst useAuth = () => React.useContext(AuthContext);\n\nfunction withAuth(Component) {\n  return function WrappedComponent(props) {\n    const authCreds = useAuth();\n    return <Component {...props} authCreds={authCreds} />;\n  };\n}\n\nexport { useAuth, AuthProvider, withAuth };\n","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { useAuth } from \"../context/auth-context\";\n\nfunction ProtectedRoute({ component: RouteComponent, ...rest }) {\n  const { auth } = useAuth();\n  return (\n    <React.Fragment>\n      <Route\n        {...rest}\n        render={(props) =>\n          auth.authenticated ? (\n            <RouteComponent {...props} />\n          ) : (\n            <Redirect to={\"/login\"} />\n          )\n        }\n      />\n    </React.Fragment>\n  );\n}\n\nexport default ProtectedRoute;\n","import { useAuth } from \"../context/auth-context\";\n\nexport default function AuthContext(Component) {\n  return function WrappedComponent(props) {\n    const authCreds = useAuth();\n    return <Component {...props} authCreds={authCreds} />;\n  };\n}\n","export default __webpack_public_path__ + \"static/media/INKY.c0748b7d.png\";","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { Redirect } from \"react-router-dom\";\nimport AuthContext, { useAuth } from \"../context/AuthContext\";\nimport \"../styles/loginPage.css\";\nimport logo from \"../images/INKY.png\";\nimport { SERVER_URL } from \"../Utils/Constants\";\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.authCreds.auth.authenticated ? (\n          <Redirect to={\"/\"} />\n        ) : (\n          <div className=\"container\">\n            <div className=\"internal-container\">\n              <img src={logo} className=\"logo\"></img>\n              <Button\n                className=\"login-button\"\n                onClick={() =>\n                  window.open(SERVER_URL + \"/auth/google\", \"_self\")\n                }\n              >\n                Sign in With Google\n              </Button>\n              <div className=\"infoContainer\">\n                <h3>About</h3>\n                <p>\n                  Inky io is an online pictionary game to cure quarantine\n                  boredom\n                </p>\n                <p>\n                  Developed by Julian Pinto, Christina Lu, Dheeraj Kumar, Justin\n                  Flores, Richard Williams and Jen-Wei Huang\n                </p>\n                <p>Enjoy!</p>\n              </div>\n            </div>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default AuthContext(LoginPage);\n","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport { Link } from \"react-router-dom\";\nimport AuthContext from \"../context/AuthContext\";\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"button-group\">\n        {this.props.showHome ? (\n          <Link to=\"/\">\n            <Button variant=\"outline-dark\">Home</Button>\n          </Link>\n        ) : (\n          \"\"\n        )}\n\n        <Link to=\"/history\">\n          <Button variant=\"outline-dark\" onClick={this.props.history}>\n            Match History\n          </Button>\n        </Link>\n        <Link to=\"/profile\">\n          <Button variant=\"outline-dark\" onClick={this.props.profile}>\n            View Profile\n          </Button>\n        </Link>\n\n        <Button variant=\"outline-danger\" onClick={this.props.authCreds.logout}>\n          Logout\n        </Button>\n        {this.props.showCreateGame ? (\n          <Button variant=\"info\" onClick={this.props.createGameClick}>\n            Create Game\n          </Button>\n        ) : (\n          \"\"\n        )}\n        {this.props.authCreds.auth.user.role ? (\n          <Link to=\"/report\">\n            <Button variant=\"outline-dark\" onClick={this.props.report}>\n             View Report\n            </Button>\n          </Link>\n        ) : (\n          \"\"\n        )}\n      </div>\n      \n    );\n  }\n}\nexport default AuthContext(NavBar);\n","import React, { Component } from \"react\";\nimport AuthContext from \"../context/AuthContext\";\nimport \"../styles/loginPage.css\";\nimport logo from \"../images/INKY.png\";\n\nclass BanPage extends Component {\n    render() {\n      return (\n        <React.Fragment>\n            <div className=\"container\">\n              <div className=\"internal-container\">\n                <img src={logo} className=\"logo\"></img>\n                <div className=\"infoContainer\">\n                  <p>\n                    This account has been suspended permanently. Please contact us for more information.\n                  </p>\n                </div>\n              </div>\n            </div>\n          )\n        </React.Fragment>\n      );\n    }\n  }\n\nexport default AuthContext(BanPage);\n","import React from \"react\";\n\nexport default function DeviceDetect() {\n  const [isMobile, setMobile] = React.useState(false);\n\n  React.useEffect(() => {\n    const userAgent =\n      typeof window.navigator === \"undefined\" ? \"\" : navigator.userAgent;\n    const mobile = Boolean(\n      userAgent.match(\n        /Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i\n      )\n    );\n    setMobile(mobile);\n  }, []);\n  return { isMobile };\n}\n\nfunction withDeviceDetect(Component) {\n  return function WrappedComponent(props) {\n    const { isMobile } = DeviceDetect();\n    return <Component {...props} mobile={isMobile} />;\n  };\n}\n\nexport { withDeviceDetect };\n","import React, { createRef } from \"react\";\nimport \"../styles/HomePage.css\";\nimport {\n  Accordion,\n  Card,\n  InputGroup,\n  FormControl,\n  Overlay,\n  Button,\n  Popover,\n} from \"react-bootstrap\";\nimport NavBar from \"../components/NavBar\";\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport BanPage from \"./BanPage\";\nimport AuthContext from \"../context/AuthContext\";\nimport { withDeviceDetect } from \"../Utils/DeviceDetect\";\n\nimport { SERVER_URL } from \"../Utils/Constants\";\n\nclass HomePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gameCode: \"\",\n      showRoomNotFound: false,\n    };\n    this.joinButtonTarget = new createRef();\n    this.handleGameCodeChange = this.handleGameCodeChange.bind(this);\n    this.handleJoinGameClicked = this.handleJoinGameClicked.bind(this);\n    this.handleCreateGameClicked = this.handleCreateGameClicked.bind(this);\n  }\n\n  componentDidMount() {}\n\n  handleMatchHistoryClicked() {\n    // TODO: redirect to match history page\n  }\n\n  handleViewProfileClicked() {\n    // TODO: redirect to profile page\n  }\n\n  handleCreateGameClicked() {\n    const user = this.props.authCreds.auth.user;\n    fetch(\n      SERVER_URL + `/lobby/create?hostId=${user.id}&hostName=${user.name}`,\n      {\n        method: \"POST\",\n        // credentials: \"include\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          // \"Access-Control-Allow-Credentials\": true,\n        },\n      }\n    )\n      .then((response) => {\n        if (response.status === 200) return response.json();\n        throw new Error(\"failed create new room\");\n      })\n      .then((responseJson) => {\n        // redirect to lobby\n\n        const location = {\n          pathname: `/game/${responseJson.code}`,\n        };\n        this.props.history.push(location);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  handleJoinGameClicked() {\n    const user = this.props.authCreds.auth.user;\n    if (this.state.gameCode === \"\") return;\n    fetch(SERVER_URL + `/lobby/join2`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ id: this.state.gameCode, userID: user.id }),\n    })\n      .then((res) => {\n        if (res.status === 200) return res.json();\n        throw new Error(\"failed fetching room info\");\n      })\n      .then((res_json) => {\n        if (res_json.success) {\n          const location = {\n            pathname: `/game/${res_json.code}`,\n          };\n          this.props.history.push(location);\n        } else {\n          this.setState({\n            showRoomNotFound: true,\n            gameCode: \"\",\n            gameErrorMessage: res_json.message,\n          });\n          // hide popover after 5 sec\n          setTimeout(() => {\n            this.setState({ showRoomNotFound: false });\n          }, 5000);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  handleGameCodeChange(e) {\n    this.setState({\n      gameCode: e.target.value,\n    });\n  }\n\n  render() {\n    const user = this.props.authCreds.auth.user;\n    if (user.ban) {\n      return <Redirect to={\"/BanPage\"} />;\n    } else {\n      return (\n        <div className=\"page\">\n          <div className=\"homepage-content\">\n            <h3>{user.name || \"kirby placeholder\"}</h3>\n            <img\n              className=\"profile-picture\"\n              src={\n                user.profileKey &&\n                (user.profileKey > 0 && user.profileKey <= 10)\n                  ? `https://pokeres.bastionbot.org/images/pokemon/${user.profileKey}.png`\n                  : \"https://play.nintendo.com/images/profile-kirby-kirby.7bf2a8f2.aead314d58b63e27.png\"\n              }\n              alt=\"pfp\"\n            ></img>\n\n            <NavBar\n              showCreateGame={!this.props.mobile}\n              createGameClick={this.handleCreateGameClicked}\n            ></NavBar>\n            <InputGroup style={{ maxWidth: \"70%\", margin: \"10px auto\" }}>\n              <FormControl\n                disabled={this.props.mobile}\n                placeholder=\"Enter lobby code to join a game\"\n                value={this.state.gameCode}\n                onChange={this.handleGameCodeChange}\n                aria-label=\"Lobby Code\"\n              />\n              <InputGroup.Append>\n                <Button\n                  ref={this.joinButtonTarget}\n                  disabled={this.props.mobile}\n                  variant=\"success\"\n                  onClick={this.handleJoinGameClicked}\n                >\n                  Join Game\n                </Button>\n              </InputGroup.Append>\n            </InputGroup>\n\n            <Overlay\n              target={this.joinButtonTarget}\n              show={this.state.showRoomNotFound}\n              placement=\"top\"\n              onClose={() => this.setState({ showRoomNotFound: false })}\n            >\n              <Popover>\n                <Popover.Content>{this.state.gameErrorMessage}</Popover.Content>\n              </Popover>\n            </Overlay>\n\n            <Accordion defaultActiveKey=\"0\" className=\"info\">\n              <Card>\n                <Card.Header>\n                  <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n                    How to Play\n                  </Accordion.Toggle>\n                </Card.Header>\n                <Accordion.Collapse eventKey=\"0\">\n                  <Card.Body>\n                    Create a game lobby and invite your friends to play or join\n                    an existing lobby above. Adjust the settings to your liking\n                    then start the game. When it's your turn to draw, choose one\n                    of the three words and visualize it before the time runs\n                    out. The more people that get the word right, the more\n                    points you win! When somebody else is drawing, type your\n                    guess into the chat to gain points. Be quick, the earlier\n                    you guess a word the more points you get! <br />\n                    <u>Tip:</u> hints will appear above the canvas as time\n                    passes. <br />\n                    <u>Note:</u> if you a player is making you feel\n                    uncomfortable at anytime, click their card on the left to\n                    report them\n                  </Card.Body>\n                </Accordion.Collapse>\n              </Card>\n            </Accordion>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default AuthContext(withDeviceDetect(HomePage));\n","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport NavBar from \"../components/NavBar\";\nimport \"../styles/ProfilePage.css\";\nimport AuthContext from \"../context/AuthContext\";\nimport Dialog from \"react-bootstrap-dialog\";\nimport { SERVER_URL } from \"../Utils/Constants\";\n\nclass ProfilePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userUsername: this.props.authCreds.auth.user.name,\n      userImageDisplay: this.props.authCreds.auth.user.profileKey\n        ? this.imageWebLink(this.props.authCreds.auth.user.profileKey)\n        : \"https://play.nintendo.com/images/profile-kirby-kirby.7bf2a8f2.aead314d58b63e27.png\",\n      modalShow: false,\n      userImageDisplayIndex: this.props.authCreds.auth.user.profileKey,\n    };\n    this.usernameChange = this.usernameChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleProfilePicture = this.handleProfilePicture.bind(this);\n    this.setModalShow = this.setModalShow.bind(this);\n    this.handleProfilePick = this.handleProfilePick.bind(this);\n    this.imageWebLink = this.imageWebLink.bind(this);\n  }\n  usernameChange(event) {\n    this.setState({\n      userUsername: event.target.value,\n    });\n  }\n\n  handleProfilePicture() {\n    const pokemons_number = 10;\n    const pokemonImgList = [];\n\n    for (let i = 1; i <= pokemons_number; i++) {\n      pokemonImgList.push(\n        <img\n          key={i}\n          id={i}\n          className=\"pokemonImg\"\n          src={this.imageWebLink(i)}\n          onClick={this.handleProfilePick}\n        ></img>\n      );\n    }\n    return pokemonImgList;\n  }\n  handleProfilePick(event) {\n    this.setState({\n      userImageDisplayIndex: event.target.id,\n      userImageDisplay: this.imageWebLink(event.target.id),\n      modalShow: false,\n    });\n  }\n  imageWebLink(id) {\n    if (id && id > 0 && id <= 10) {\n      return `https://pokeres.bastionbot.org/images/pokemon/${id}.png`;\n    }\n    else {\n      return \"https://play.nintendo.com/images/profile-kirby-kirby.7bf2a8f2.aead314d58b63e27.png\"\n    }\n\n  }\n  handleSubmit() {\n    fetch(\n      SERVER_URL +\n        `/profile/change/name?userID=${this.props.authCreds.auth.user.id}&newName=${this.state.userUsername}&userPicture=${this.state.userImageDisplayIndex}`,\n      {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          // \"Access-Control-Allow-Credentials\": true,\n        },\n      }\n    )\n      .then((response) => {\n        if (response.status === 200) return response.json();\n        throw new Error(\"failed create new room\");\n      })\n      .then((responseJson) => {\n        console.log(responseJson);\n        this.props.authCreds.getUserInfo();\n        this.dialog.showAlert(\"Your update was successful!\");\n        // redirect to lobby\n      })\n      .catch((error) => {\n        console.log(error);\n        this.dialog.showAlert(\"Something went wrong please try again.\");\n      });\n  }\n  setModalShow(see) {\n    this.setState({\n      modalShow: see,\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"page\">\n        <div className=\"content\">\n          <NavBar\n            className=\"nav\"\n            showCreateGame={false}\n            showHome={true}\n          ></NavBar>\n          <div className=\"profilecontainer\">\n            <div className=\"profile\">\n              <div className=\"picture\">\n                <img\n                  className=\"profile-picture\"\n                  src={this.state.userImageDisplay}\n                  alt=\"pfp\"\n                ></img>\n                <Button\n                  variant=\"primary\"\n                  className=\"pickIcon\"\n                  onClick={() => this.setModalShow(true)}\n                >\n                  Change Profile Picture\n                </Button>\n              </div>\n              <div className=\"name\">\n                <p className=\"nameTitle\">Display Name: </p>\n                <input\n                  className=\"nameInput\"\n                  type=\"text\"\n                  value={this.state.userUsername}\n                  onChange={this.usernameChange}\n                ></input>\n              </div>\n\n              <Button\n                variant=\"success\"\n                className=\"savebutton\"\n                onClick={this.handleSubmit}\n              >\n                Save Changes\n              </Button>\n              <Dialog\n                ref={(component) => {\n                  this.dialog = component;\n                }}\n              />\n            </div>\n          </div>\n\n          <Modal\n            show={this.state.modalShow}\n            onHide={() => this.setModalShow(false)}\n          >\n            <Modal.Header>Icons</Modal.Header>\n            <Modal.Body>\n              <div id=\"profilePictureContainer\" className=\"modalBody\">\n                {this.handleProfilePicture()}\n              </div>\n            </Modal.Body>\n\n            <Modal.Footer>\n              <Button onClick={() => this.setModalShow(false)}>Close</Button>\n            </Modal.Footer>\n          </Modal>\n        </div>\n      </div>\n    );\n  }\n}\nexport default AuthContext(ProfilePage);\n","import React from \"react\";\nimport \"../styles/GameLobbyPage.css\";\nimport { Form, InputGroup, Col, Button } from \"react-bootstrap\";\nimport constants from \"../Utils/Constants\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { withRouter, Link, Redirect } from \"react-router-dom\";\n\n//takes in prop isHost: bool\nclass GameLobbyPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      numRounds: this.props.settings.rounds,\n      drawingTime: this.props.settings.draw_time,\n      customWords: \"\", //TODO: Need handle this in the backend\n      roomLink: this.props.match.params.lobbyID,\n      numRoundsOptions: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n      drawingTimeOptions: [\n        5,\n        30,\n        45,\n        60,\n        75,\n        90,\n        100,\n        115,\n        130,\n        145,\n        160,\n        175,\n        190,\n        200,\n        215,\n        230,\n      ],\n      roomLinkValue: \"hover to see lobby link\",\n      modalShow: false,\n    };\n    this.handleNumRoundsChange = this.handleNumRoundsChange.bind(this);\n    this.handleDrawingTimeChange = this.handleDrawingTimeChange.bind(this);\n    this.handleCustomWordChange = this.handleCustomWordChange.bind(this);\n    this.handleCopyClicked = this.handleCopyClicked.bind(this);\n    this.startGame = this.startGame.bind(this);\n    this.kickPlayerClicked = this.kickPlayerClicked.bind(this);\n    this.kick = this.kick.bind(this);\n  }\n\n  componentDidMount() {\n    // Listen to changes in game settings\n    this.props.socket.on(\"setting-change\", (setting) => {\n      this.setState({\n        numRounds: setting.rounds,\n        drawingTime: setting.draw_time,\n      });\n    });\n    this.props.socket.on(\"kick\", (playerId) => {\n      this.kick();\n    });\n  }\n  kick() {\n    this.setState({\n      modalShow: true,\n    });\n  }\n\n  componentWillUnmount() {\n    // unsubscribe to setting change subscription\n    this.props.socket.offAny([\"setting-change\", \"kick\"]);\n  }\n\n  handleNumRoundsChange(e) {\n    const { match } = this.props;\n    this.props.socket.emit(\"setting-change\", match.params.lobbyID, {\n      rounds: e.target.value,\n      draw_time: this.state.drawingTime,\n    });\n\n    this.setState({\n      numRounds: e.target.value,\n    });\n  }\n\n  handleDrawingTimeChange(e) {\n    const { match } = this.props;\n    this.props.socket.emit(\"setting-change\", match.params.lobbyID, {\n      rounds: this.state.numRounds,\n      draw_time: e.target.value,\n    });\n\n    this.setState({\n      drawingTime: e.target.value,\n    });\n  }\n\n  handleCustomWordChange(e) {\n    this.setState({\n      customWords: e.target.value,\n    });\n  }\n\n  handleCopyClicked() {\n    // not supported on all broswers\n    navigator.clipboard.writeText(this.state.roomLink);\n  }\n\n  startGame() {\n    const { match } = this.props;\n    if (this.state.customWords.length) {\n      const customWords = this.state.customWords.split(\",\");\n      this.props.socket.emit(\"add-words\", match.params.lobbyID, customWords);\n    }\n    this.props.socket.emit(\n      \"lobby-state-change\",\n      match.params.lobbyID,\n      constants.IN_GAME\n    );\n  }\n\n  renderSelectOptions(options) {\n    return options.map((value, index) => {\n      return <option key={index}>{value}</option>;\n    });\n  }\n\n  countPlayers() {\n    let count = 0;\n    this.props.players.forEach((player) => {\n      if (!player.disconnected) count++;\n    });\n    return count;\n  }\n  kickPlayerClicked(event) {\n    const playerID = event.target.parentNode.id;\n    const lobby_id = this.props.match.params.lobbyID;\n    this.props.socket.emit(\"kickPlayer\", lobby_id, playerID);\n  }\n\n  render() {\n    // let roomLinkValue = 'hover to see lobby link';\n    return (\n      <div className=\"game-lobby-page\">\n        <div className=\"game-lobby-content\">\n          <div className=\"settings\">\n            <h3 style={{ textAlign: \"center\", paddingBottom: \"1em\" }}>\n              Settings\n            </h3>\n            <Form className=\"settings-form\">\n              <Form.Group as={Form.Row}>\n                <Form.Label column sm={5}>\n                  Number of Rounds\n                </Form.Label>\n                <Col sm={7}>\n                  <Form.Control\n                    as=\"select\"\n                    disabled={!this.props.isHost}\n                    value={this.state.numRounds}\n                    onChange={this.handleNumRoundsChange}\n                  >\n                    {this.renderSelectOptions(this.state.numRoundsOptions)}\n                  </Form.Control>\n                </Col>\n              </Form.Group>\n              <Form.Group as={Form.Row}>\n                <Form.Label column sm={5}>\n                  Drawing Time\n                </Form.Label>\n                <Col sm={7}>\n                  <InputGroup>\n                    <Form.Control\n                      as=\"select\"\n                      disabled={!this.props.isHost}\n                      value={this.state.drawingTime}\n                      onChange={this.handleDrawingTimeChange}\n                    >\n                      {this.renderSelectOptions(this.state.drawingTimeOptions)}\n                    </Form.Control>\n                    <InputGroup.Append>\n                      <InputGroup.Text>seconds</InputGroup.Text>\n                    </InputGroup.Append>\n                  </InputGroup>\n                </Col>\n              </Form.Group>\n              <Form.Group as={Form.Row}>\n                <Form.Label column sm={5}>\n                  Customs Words\n                </Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  disabled={!this.props.isHost}\n                  readOnly={!this.props.isHost}\n                  placeholder=\"Leave blank to only use default words. Separate words with commas.\"\n                  value={this.state.customWords}\n                  onChange={this.handleCustomWordChange}\n                />\n              </Form.Group>\n              <InputGroup\n                onMouseOver={() => {\n                  this.setState({ roomLinkValue: this.state.roomLink });\n                }}\n                onMouseOut={() => {\n                  this.setState({ roomLinkValue: \"hover to see lobby link\" });\n                }}\n              >\n                <Form.Control\n                  disabled\n                  readOnly\n                  value={this.state.roomLinkValue}\n                  ref={(el) => {\n                    this.roomLinkText = el;\n                  }}\n                />\n                <InputGroup.Append>\n                  <Button dvariant=\"info\" onClick={this.handleCopyClicked}>\n                    Copy\n                  </Button>\n                </InputGroup.Append>\n              </InputGroup>\n            </Form>\n            <div className=\"button-group\">\n              <Link to=\"/\" className=\"leave-lobby-btn\">\n                <Button variant=\"outline-secondary\">Leave Lobby</Button>\n              </Link>\n              <Button\n                className=\"start-game-btn\"\n                variant=\"success\"\n                // disabled={this.countPlayers() < 2}\n                disabled={!this.props.isHost}\n                onClick={this.startGame}\n              >\n                Start Game\n              </Button>\n            </div>\n          </div>\n          <div className=\"players\">\n            <h3 style={{ textAlign: \"center\", paddingBottom: \"1em\" }}>\n              Players\n            </h3>\n            <div className=\"player-grid\">\n              {this.props.players.map((player, index) => {\n                if (\n                  player.state === constants.DISCONNECTED ||\n                  player.state === constants.KICKED\n                ) {\n                  return \"\";\n                }\n                return (\n                  <div key={index} className=\"player-container\" id={player.id}>\n                    {this.props.isHost ? (\n                      player.id !== this.props.hostId ? (\n                        <Button\n                          variant=\"danger\"\n                          onClick={this.kickPlayerClicked}\n                          className=\"kickButton\"\n                        >\n                          X\n                        </Button>\n                      ) : (\n                        \"\"\n                      )\n                    ) : (\n                      \"\"\n                    )}\n\n                    <img\n                      className=\"player-pfp\"\n                      src={\n                        player.profileKey &&\n                        player.profileKey > 0 &&\n                        player.profileKey <= 10\n                          ? `https://pokeres.bastionbot.org/images/pokemon/${player.profileKey}.png`\n                          : \"https://play.nintendo.com/images/profile-kirby-kirby.7bf2a8f2.aead314d58b63e27.png\"\n                      }\n                      alt=\"pfp\"\n                    ></img>\n                    <div>{player.name}</div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <Modal show={this.state.modalShow}>\n            <Modal.Header>Kicked</Modal.Header>\n            <Modal.Body>You have been kicked from this room.</Modal.Body>\n\n            <Modal.Footer>\n              <Button onClick={() => this.props.history.push(\"/\")}>\n                Close\n              </Button>\n            </Modal.Footer>\n          </Modal>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(GameLobbyPage);\n","const weights = [\n  {\n    name: \"2.5\",\n    value: 2.5,\n  },\n\n  {\n    name: \"5\",\n    value: 5,\n  },\n\n  {\n    name: \"10\",\n    value: 10,\n  },\n];\n\nexport default weights;\n","const colors = [\n  {\n    name: \"black\",\n    value: \"#000000\",\n  },\n  {\n    name: \"red\",\n    value: \"#FF0000\",\n  },\n  {\n    name: \"orange\",\n    value: \"#FF8C00\"\n  },\n  {\n    name: \"coral\",\n    value: \"#F08080\"\n  },\n  {\n    name: \"pink\",\n    value: \"#FF98DC\",\n  },\n  {\n    name: \"fuschsia\",\n    value: \"#FF00FF\"\n  },\n  {\n    name: \"purple\",\n    value: \"#8F00F0\"\n  },\n  {\n    name: \"turquoise\",\n    value: \"#40E0D0\",\n  },\n  {\n    name: \"blue\",\n    value: \"#0000FF\",\n  },\n  {\n    name: \"green\",\n    value: \"#008000\",\n  },\n  {\n    name: \"lime\",\n    value: \"#00FF75\",\n  },\n  {\n    name: \"yellow\",\n    value: \"#FFFF00\",\n  },\n  {\n    name: \"gold\",\n    value: \"#FFD700\",\n  },\n  {\n    name: \"brown\",\n    value: \"#A52A2A\",\n  },\n];\n\nexport default colors;\n","import React from \"react\";\n\nexport default function ColorBox(props) {\n  function onClick(e) {\n    e.preventDefault();\n    props.changeColor(props.colorVal);\n  }\n  return (\n    <div\n      className=\"color-option\"\n      onClick={onClick}\n      style={{ backgroundColor: props.colorVal }}\n    >\n      <div className=\"col-content\">\n        <span>{\"\"}</span>\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport p5 from \"p5\";\n\nimport weights from \"./weights\";\nimport colors from \"./colors\";\nimport ColorBox from \"./ColorBox\";\nimport { Button } from \"react-bootstrap\";\nimport { FaEraser, FaRegTrashAlt } from \"react-icons/fa\";\n\nimport { withRouter } from \"react-router-dom\";\n\nclass Canvas extends Component {\n  constructor(props) {\n    super(props);\n\n    this.myRef = React.createRef();\n    this.strokes = this.props.strokes;\n\n    this.start = true;\n    this.prevCall = new Date().getTime;\n\n    this.color = \"#000000\";\n    this.weight = 1;\n  }\n\n  componentDidMount() {\n    console.log(`Mounting canvas ${this.start}`);\n    this.myP5 = new p5(this.Sketch, this.myRef.current);\n    this.props.socket.on(\"draw\", this.sketch.onNewDrawing);\n  }\n\n  componentWillUnmount() {\n    console.log(\"Unmounting canvas...\");\n    this.props.socket.removeListener(\"draw\");\n    this.sketch.remove();\n  }\n\n  Sketch = (sketch) => {\n    sketch.setup = () => {\n      sketch.createCanvas(\n        this.myRef.current.offsetWidth,\n        this.myRef.current.offsetHeight\n      );\n      // sketch.frameRate(20);\n    };\n\n    sketch.draw = () => {\n      if (this.start) {\n        sketch.background(\"#ffffff\");\n\n        const w = sketch.width;\n        const h = sketch.height;\n\n        this.props.strokes.forEach((stroke) => {\n          sketch.strokeWeight(stroke.weight);\n          sketch.stroke(stroke.color);\n          sketch.line(\n            stroke.x1 * w,\n            stroke.y1 * h,\n            stroke.x2 * w,\n            stroke.y2 * h\n          );\n        });\n        this.start = false;\n      }\n    };\n\n    sketch.reset = () => {\n      console.log(\"Clearing canvas..\");\n\n      sketch.clear();\n      sketch.background(\"#ffffff\");\n      sketch.strokeCap(p5.ROUND);\n\n      const w = sketch.width;\n      const h = sketch.height;\n\n      this.strokes.forEach((stroke) => {\n        sketch.strokeWeight(stroke.weight);\n        sketch.stroke(stroke.color);\n        sketch.line(stroke.x1 * w, stroke.y1 * h, stroke.x2 * w, stroke.y2 * h);\n      });\n    };\n\n    sketch.mouseDragged = () => {\n      const time = new Date().getTime();\n      if (time - this.prevCall >= 10) {\n        const w = sketch.width;\n        const h = sketch.height;\n\n        if (this.props.drawing && this.props.round_state !== 0) {\n          const msg = {\n            type: 0,\n            x1: sketch.pmouseX / w,\n            y1: sketch.pmouseY / h,\n            x2: sketch.mouseX / w,\n            y2: sketch.mouseY / h,\n            color: this.color,\n            weight: this.weight,\n          };\n\n          this.strokes.push(msg);\n\n          const { match } = this.props;\n          this.props.socket.emit(\"draw\", match.params.lobbyID, msg);\n\n          sketch.strokeWeight(this.weight);\n          sketch.stroke(this.color);\n          sketch.line(\n            sketch.pmouseX,\n            sketch.pmouseY,\n            sketch.mouseX,\n            sketch.mouseY\n          );\n          this.prevCall = time;\n        }\n      }\n    };\n\n    sketch.onNewDrawing = (stroke, strokes) => {\n      if (stroke.type === 1) {\n        sketch.clear();\n        sketch.background(\"#ffffff\");\n      } else {\n        const w = sketch.width;\n        const h = sketch.height;\n\n        sketch.strokeWeight(stroke.weight);\n        sketch.stroke(stroke.color);\n        sketch.line(stroke.x1 * w, stroke.y1 * h, stroke.x2 * w, stroke.y2 * h);\n      }\n      this.strokes = strokes;\n    };\n\n    sketch.windowResized = () => {\n      if (this.myRef.current)\n        sketch.resizeCanvas(\n          this.myRef.current.offsetWidth,\n          this.myRef.current.offsetHeight\n        );\n      sketch.reset();\n    };\n\n    this.sketch = sketch;\n  };\n\n  renderColorOptions() {\n    const options = [];\n    colors.forEach((col, i) => {\n      options.push(\n        <ColorBox\n          key={i}\n          colorVal={col.value}\n          changeColor={this.colorOptionOnClick}\n        />\n      );\n    });\n\n    return options;\n  }\n\n  renderStrokeOptions() {\n    const options = [];\n    weights.forEach((weight, i) => {\n      options.push(\n        <Button\n          variant=\"dark\"\n          style={{\n            padding: weight.value + \"px\",\n            maxWidth: \"70px\",\n            width: \"100%\",\n            borderRadius: \"50px\",\n          }}\n          key={i}\n          value={weight.value}\n          onClick={this.strokeOptionClick}\n        ></Button>\n      );\n    });\n\n    return options;\n  }\n\n  colorOptionOnClick = (color) => {\n    console.log(`Changing pen color to ${color}`);\n    // this.setState({ color: color });\n    this.color = color;\n  };\n\n  strokeOptionClick = (event) => {\n    event.preventDefault();\n    console.log(`Changing stroke weight to ${event.target.value}`);\n    // this.setState({ weight: parseInt(event.target.value) });\n    this.weight = parseInt(event.target.value);\n  };\n\n  eraser = () => {\n    // this.setState({ color: \"#FFFFFF\" });\n    this.color = \"#FFFFF\";\n  };\n\n  clearCanvas = () => {\n    const { match } = this.props;\n    const msg = { type: 1 };\n    this.props.socket.emit(\"draw\", match.params.lobbyID, msg);\n\n    this.sketch.clear();\n    this.sketch.background(\"#ffffff\");\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div id=\"canvas\" ref={this.myRef}></div>\n        {this.props.drawing ? (\n          <div className=\"canvas-tool-container\">\n            <div className=\"color-options-container\">\n              {this.renderColorOptions()}\n            </div>\n            <div className=\"tools\">\n              <React.Fragment>{this.renderStrokeOptions()}</React.Fragment>\n              <Button variant=\"outline-info\" onClick={this.eraser}>\n                <FaEraser />\n              </Button>\n              <Button variant=\"outline-info\" onClick={this.clearCanvas}>\n                <FaRegTrashAlt />\n              </Button>\n            </div>\n          </div>\n        ) : (\n          <></>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withRouter(Canvas);\n","import React from \"react\";\nimport { Button, Card } from \"react-bootstrap\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./WordsModal.css\";\n\n// takes in prop isArtist, artistName, words\nclass WordsModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(word) {\n    const { match } = this.props;\n    this.props.socket.emit(\"turn-start\", match.params.lobbyID, word);\n  }\n\n  render() {\n    return (\n      <div\n        className=\"words-modal\"\n        style={{\n          display: this.props.show ? \"block\" : \"none\",\n        }}\n      >\n        <Card>\n          <Card.Header>\n            <Card.Title>\n              {this.props.isArtist\n                ? \"Pick a Word\"\n                : this.props.artistName + \" is picking a word\"}\n            </Card.Title>\n          </Card.Header>\n          <Card.Footer>\n            {this.props.isArtist ? (\n              <>\n                <Button\n                  className=\"word-btn\"\n                  variant=\"outline-dark\"\n                  onClick={() => this.handleClick(this.props.words[0])}\n                >\n                  {this.props.words[0]}\n                </Button>\n                <Button\n                  className=\"word-btn\"\n                  variant=\"outline-dark\"\n                  onClick={() => this.handleClick(this.props.words[1])}\n                >\n                  {this.props.words[1]}\n                </Button>\n                <Button\n                  className=\"word-btn\"\n                  variant=\"outline-dark\"\n                  onClick={() => this.handleClick(this.props.words[2])}\n                >\n                  {this.props.words[2]}\n                </Button>\n              </>\n            ) : (\n              <p>The round will start when a word is chosen!</p>\n            )}\n          </Card.Footer>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(WordsModal);\n","import React from \"react\";\nimport Canvas from \"./Canvas\";\nimport WordsModal from \"./WordsModal\";\nimport \"./Canvas.css\";\n\nexport default function CanvasContainer(props) {\n  return (\n    <div className=\"canvas-container\">\n      <Canvas\n        socket={props.socket}\n        strokes={props.strokes}\n        drawing={props.drawing}\n        round_state={props.round_state}\n      />\n      <div\n        className=\"custom-modal\"\n        onClick={(e) => {\n          e.preventDefault();\n        }}\n      >\n        <WordsModal\n          socket={props.socket}\n          show={props.round_state === 0}\n          isArtist={props.drawing}\n          artistName={props.drawer}\n          round_state={props.round_state}\n          words={props.word_list}\n        />\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\n\nexport default class ChatMessage extends Component {\n  render() {\n    return (\n        <p className=\"message\">\n          <span className=\"message-name\"><b>{this.props.message.name}</b>:  </span>\n          <span className=\"message-content\">{this.props.message.content}</span>\n        </p>\n    )\n  }\n}","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { SERVER_URL } from \"../../Utils/Constants\";\n\nimport { Card, Form } from \"react-bootstrap\";\nimport ChatMessage from \"./ChatMessage\";\n\nclass ChatBox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentMessage: \"\",\n      messageLog: [],\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    // this.fetchChats = this.fetchChats.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({ currentMessage: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const { match } = this.props;\n    this.props.socket.emit(\n      \"chat\",\n      match.params.lobbyID,\n      this.state.currentMessage\n    );\n    this.setState({ currentMessage: \"\" });\n  }\n\n  async fetchChats() {\n    let response = await fetch(\n      `${SERVER_URL}/lobby/chatHistory?lobbycode=${this.props.lobby}`\n    );\n    if (response.ok) {\n      return response.json();\n    } else {\n      return Promise.reject(response);\n    }\n  }\n\n  componentDidMount() {\n    this.fetchChats()\n      .then((response) => this.setState({ messageLog: response.chatLog }))\n      .catch((error) => console.error(error));\n\n    this.props.socket.on(\"chat\", (name, msg) => {\n      console.log(`received \"${name}: ${msg}\"`);\n      this.setState({\n        messageLog: [...this.state.messageLog, { name: name, content: msg }],\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.socket.removeListener(\"chat\");\n  }\n\n  render() {\n    return (\n      <Card style={{ height: \"100%\" }}>\n        <Card.Body>\n          {this.state.messageLog.map((msg, i) => (\n            <ChatMessage key={i} message={msg} />\n          ))}\n        </Card.Body>\n        <Card.Footer>\n          <Form onSubmit={this.handleSubmit}>\n            <Form.Control\n              type=\"input\"\n              onChange={this.handleChange}\n              value={this.state.currentMessage}\n              placeholder=\"type your guess here\"\n            ></Form.Control>\n          </Form>\n        </Card.Footer>\n      </Card>\n    );\n  }\n}\n\nexport default withRouter(ChatBox);\n","import React from \"react\";\nimport \"./PlayerSidebar.css\";\nimport { Card, Button, Overlay, Popover, Modal, Form } from \"react-bootstrap\";\nimport { FaCheck, FaTimes } from \"react-icons/fa\";\nimport constants from \"../../Utils/Constants\";\n\nexport default class PlayerContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showReportModal: false,\n      showReportPopover: false,\n      cheating: false,\n      verbalAbuse: false,\n      inappropriateName: false,\n    };\n    this.cardRef = React.createRef();\n    this.reportPlayer = this.reportPlayer.bind(this);\n    this.initiateReportPlayer = this.initiateReportPlayer.bind(this);\n    this.renderReportModal = this.renderReportModal.bind(this);\n    this.renderReportOverlay = this.renderReportOverlay.bind(this);\n  }\n\n  getVariant(playerState) {\n    switch (playerState) {\n      case constants.CONNECTED:\n        return \"primary\";\n      case constants.KICKED:\n        return \"danger\";\n      case constants.DISCONNECTED:\n        return \"secondary\";\n      default:\n        return \"warning\";\n    }\n  }\n\n  initiateReportPlayer() {\n    console.log(\"reporting\", this.props.player);\n    this.setState({\n      showReportPopover: false,\n      showReportModal: true,\n    });\n  }\n\n  reportPlayer() {\n    console.log(\"reported \" + this.props.player, this.state);\n\n    if(this.state.cheating || this.state.verbalAbuse || this.state.inappropriateName){\n      this.props.socket.emit(\"report\", this.props.lobby, this.props.player.id, this.props.player.name, \n      {cheating: this.state.cheating,\n       verbalAbuse: this.state.verbalAbuse,\n       inappropriateName: this.state.inappropriateName,}\n      )\n    }\n\n\n    this.setState({\n      cheating: false,\n      verbalAbuse: false,\n      inappropriateName: false,\n      showReportModal: false,\n    });\n  }\n\n  renderReportModal() {\n    return (\n      <Modal\n        show={this.state.showReportModal}\n        onHide={() => this.setState({ showReportModal: false })}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>\n            Why are you reporting {this.props.player.name}?\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <p>Check all that apply</p>\n          <Form.Check\n            label=\"Cheating\"\n            type=\"checkbox\"\n            value={this.state.cheating}\n            onChange={() => this.setState({ cheating: !this.state.cheating })}\n          />\n          <Form.Check\n            label=\"Verbal Abuse\"\n            type=\"checkbox\"\n            value={this.state.verbalAbuse}\n            onChange={() =>\n              this.setState({ verbalAbuse: !this.state.verbalAbuse })\n            }\n          />\n          <Form.Check\n            label=\"Inappropriate Name\"\n            type=\"checkbox\"\n            value={this.state.inappropriateName}\n            onChange={() =>\n              this.setState({\n                inappropriateName: !this.state.inappropriateName,\n              })\n            }\n          />\n        </Modal.Body>\n        <Modal.Footer>\n          <Button\n            variant=\"warning\"\n            onClick={() => this.setState({ showReportModal: false })}\n          >\n            Cancel\n          </Button>\n          <Button variant=\"danger\" onClick={() => this.reportPlayer()}>\n            Report\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n\n  renderReportOverlay() {\n    return this.props.player.state === constants.CONNECTED ? (\n      <Overlay\n        target={this.cardRef}\n        show={this.state.showReportPopover}\n        placement=\"right\"\n      >\n        <Popover>\n          <div className=\"report-popover\">\n            <span>Report? </span>\n            <Button\n              variant=\"outline-danger\"\n              onClick={() => this.setState({ showReportPopover: false })}\n            >\n              <FaTimes />\n            </Button>\n            <Button\n              variant=\"outline-success\"\n              onClick={() => this.initiateReportPlayer()}\n            >\n              <FaCheck />\n            </Button>\n          </div>\n        </Popover>\n      </Overlay>\n    ) : (\n      <></>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"player\">\n        <a\n          style={{ cursor: \"pointer\" }}\n          ref={this.cardRef}\n          onClick={() => this.setState({ showReportPopover: true })}\n        >\n          <Card\n            id=\"player-card\"\n            border=\"dark\"\n            bg={this.getVariant(this.props.player.state)}\n          >\n            <Card.Header>{this.props.player.name}</Card.Header>\n            <Card.Body>\n              <Card.Text>\n                <b># {this.props.index + 1}&emsp;</b>\n                {this.props.player.score}\n              </Card.Text>\n            </Card.Body>\n          </Card>\n        </a>\n        {this.state.showReportPopover ? this.renderReportOverlay() : <></>}\n        {this.state.showReportModal ? this.renderReportModal() : <></>}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./PlayerSidebar.css\";\nimport PlayerContainer from \"./PlayerContainer\";\n\nexport default class PlayerSidebar extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n\n  render() {\n    return (\n      <div className=\"player-sidebar\">\n        {this.props.players\n          .sort(function (a, b) {\n            return b.score - a.score;\n          })\n          .map((player, index) => {\n            return (\n              <PlayerContainer\n                key={index}\n                player={player}\n                index={index}\n                lobby={this.props.lobby}\n                socket={this.props.socket}\n              ></PlayerContainer>\n            );\n          })}\n      </div>\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\n\nexport default function Timer(props) {\n/*     const [time, setTime] = useState(props.timer);\n\n  useEffect(() => {\n    props.socket.on(\"time-update\", (new_time) => {\n      setTime(new_time);\n    });\n  }, []);   */\n\n  return (\n    <React.Fragment>\n      <img\n        className=\"timer\"\n        src=\"https://i.pinimg.com/originals/2a/0c/fe/2a0cfecd615bed18b3cf4688d2b5962c.png\"\n        alt=\"pfp\"\n      ></img>\n      <div>{props.timer? parseInt(props.timer):props.timer}</div>\n    </React.Fragment>\n  );\n}\n","import React, { Component } from \"react\";\n\nimport CanvasContainer from \"../components/GameComponents/CanvasContainer\";\nimport ChatBox from \"../components/GameComponents/ChatBox\";\nimport PlayerSidebar from \"../components/GameComponents/PlayerSidebar\";\n\nimport { withRouter, Link } from \"react-router-dom\";\nimport { withAuth } from \"../context/auth-context\";\n\nimport \"../styles/GamePage.css\";\nimport { Button } from \"react-bootstrap\";\nimport Timer from \"../components/GameComponents/Timer\";\n\nclass GamePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      strokes: [],\n      hint: [],\n    };\n\n    this.getTime = this.getTime.bind(this);\n    this.interval = null;\n    this.syncInterval = null;\n  }\n  componentWillUnmount() {\n    if (this.interval !== null) {\n      clearInterval(this.interval);\n      clearInterval(this.syncInterval);\n      this.interval = null;\n      this.syncInterval = null;\n    }\n  }\n\n  componentDidMount() {\n    this.props.socket.on(\"game-status\", (status) => {\n      this.setState({ ...status });\n      if (this.state.playing && this.interval === null) {\n        this.interval = setInterval(() => {\n          if (this.state.timer > 0) {\n            this.setState({\n              timer: this.state.timer - 0.5,\n            });\n          } else {\n            clearInterval(this.interval);\n            clearInterval(this.syncInterval);\n            this.interval = null;\n            this.syncInterval = null;\n          }\n        }, 500);\n        this.syncInterval = setInterval(() => {\n          this.getTime();\n        }, 5000);\n      }\n\n    });\n\n    this.getRoundStatus();\n\n    this.props.socket.on(\"new-round-status\", () => {\n      this.getRoundStatus();\n    });\n\n    this.props.socket.on(\"startTimer\", () => {\n      this.interval = setInterval(() => {\n        if (this.state.timer > 0) {\n          this.setState({\n            timer: this.state.timer - 0.5,\n          });\n        } else {\n          clearInterval(this.interval);\n          clearInterval(this.syncInterval);\n          this.interval = null;\n          this.syncInterval = null;\n        }\n      }, 500);\n\n      this.syncInterval = setInterval(() => {\n        this.getTime();\n      }, 5000);\n    });\n\n    this.props.socket.on(\"stopTimer\", () => {\n      clearInterval(this.interval);\n      clearInterval(this.syncInterval);\n      this.interval = null;\n      this.syncInterval = null;\n    });\n\n    this.props.socket.on(\"timesync\", (data) => {\n      //console.log(\"Server time now\", data, \"off set:\", this.state.timer - data);\n      this.setState({\n        timer: data,\n      });\n    });\n  }\n\n  getTime() {\n    this.props.socket.emit(\"timesync\", this.props.match.params.lobbyID);\n  }\n\n  getRoundStatus() {\n    const lobbyID = this.props.match.params.lobbyID;\n    const user = this.props.authCreds.auth.user;\n    this.props.socket.emit(\"game-status\", lobbyID, user.id);\n  }\n\n  render() {\n    const user = this.props.authCreds.auth.user;\n    return (\n      <div className=\"game-page\">\n        <Link to=\"/\" className=\"leave-lobby-btn\">\n          <Button variant=\"outline-secondary\">Leave Lobby</Button>\n        </Link>\n        <div className=\"game-header\">\n          <div className=\"empty-placeholder\" style={{ width: \"15%\" }}></div>\n          <div className=\"canvas-header\">\n            <h3 style={{ width: \"max-content\", margin: \"auto\" }}>\n              {this.state.hint}\n            </h3>\n            <div className=\"timer\">\n              <Timer socket={this.props.socket} timer={this.state.timer} />\n            </div>\n          </div>\n          <div className=\"empty-placeholder\" style={{ width: \"25%\" }}></div>\n        </div>\n        <div className=\"game-contents\">\n          <div className=\"players-container\">\n            <PlayerSidebar\n              className=\"players-container\"\n              players={this.props.players}\n              lobby={this.props.match.params.lobbyID}\n              socket={this.props.socket}\n            ></PlayerSidebar>\n          </div>\n          <CanvasContainer\n            socket={this.props.socket}\n            drawer={this.state.drawer ? this.state.drawer.name : \"\"}\n            round_state={this.state.round_state}\n            word_list={this.state.word_list}\n            drawing={\n              this.state.drawer ? this.state.drawer.id === user.id : false\n            }\n            strokes={this.state.strokes}\n          />\n          <div className=\"chat-container\">\n            <ChatBox \n              socket={this.props.socket}\n              lobby={this.props.match.params.lobbyID}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(withRouter(GamePage));\n","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\nimport \"../styles/EndOfGamePage.css\";\nimport { withRouter } from \"react-router-dom\";\nimport constants from \"../Utils/Constants\";\n\nclass GameEndingPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      usersInLobby: this.sortWinner(this.props.players),\n    };\n    this.sortWinner = this.sortWinner.bind(this);\n    this.playAgainClicked = this.playAgainClicked.bind(this);\n    this.leaveClicked = this.leaveClicked.bind(this);\n  }\n\n  sortWinner(arr) {\n    let len = arr.length;\n    for (let i = len - 1; i >= 0; i--) {\n      for (let j = 1; j <= i; j++) {\n        if (arr[j - 1].score > arr[j].score) {\n          var temp = arr[j - 1];\n          arr[j - 1] = arr[j];\n          arr[j] = temp;\n        }\n      }\n    }\n    arr.reverse();\n    let displayarray = [];\n    for (let i = 0; i < arr.length; i++) {\n      displayarray.push(\n        <Card key={i} id={i} className=\"player\" style={{ width: \"6rem\" }}>\n          <Card.Img\n            variant=\"top\"\n            src={\n              arr[i].profileKey && (arr[i].profileKey > 0 && arr[i].profileKey <= 10)\n                ? `https://pokeres.bastionbot.org/images/pokemon/${arr[i].profileKey}.png`\n                : \"https://play.nintendo.com/images/profile-kirby-kirby.7bf2a8f2.aead314d58b63e27.png\"\n            }\n          />\n          <Card.Body className=\"playerGameInfo\" style={{ padding: \"0px\" }}>\n            <Card.Title className=\"playerName\">{arr[i].name}</Card.Title>\n            <Card.Text className=\"playerScore\">\n              Points: {arr[i].score}\n            </Card.Text>\n          </Card.Body>\n        </Card>\n      );\n    }\n    return displayarray;\n  }\n  playAgainClicked() {\n    const lobby_id = this.props.match.params.lobbyID;\n    this.props.socket.emit(\"lobby-state-change\", lobby_id, constants.IN_LOBBY);\n  }\n\n  leaveClicked() {\n    if (this.props.isHost) {\n      const lobby_id = this.props.match.params.lobbyID;\n      this.props.socket.emit(\"dc-game\", lobby_id);\n    }\n\n    this.props.history.push(\"/\");\n  }\n\n  render() {\n    return (\n      <div className=\"page\">\n        <div className=\"content\">\n          <div className=\"podium\">\n            <div className=\"playerPodium\">\n              <p>{this.state.usersInLobby[1]}</p>\n              <div className=\"podium2\"></div>\n            </div>\n            <div className=\"playerPodium\">\n              <p>{this.state.usersInLobby[0]}</p>\n              <div className=\"podium1\"></div>\n            </div>\n            <div className=\"playerPodium\">\n              <p>{this.state.usersInLobby[2]}</p>\n              <div className=\"podium3\"></div>\n            </div>\n          </div>\n          <div className=\"restPlayers\">\n            {[...this.state.usersInLobby.slice(3)]}\n          </div>\n          <div className=\"buttonSet\">\n            {this.props.isHost ? (\n              <Button\n                className=\"playAgain\"\n                variant=\"secondary\"\n                onClick={this.playAgainClicked}\n              >\n                Play Again\n              </Button>\n            ) : (\n              \"\"\n            )}\n\n            <Button\n              className=\"leave\"\n              variant=\"success\"\n              onClick={this.leaveClicked}\n            >\n              Leave\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(GameEndingPage);\n","import React, { Component } from \"react\";\nimport GameLobbyPage from \"./GameLobbyPage\";\nimport GamePage from \"./GamePage\";\nimport GameEndingPage from \"./GameEndingPage\";\n\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport AuthContext from \"../context/AuthContext\";\nimport DeviceDetect from \"../Utils/DeviceDetect\";\nimport io from \"socket.io-client\";\nimport constants, { SERVER_URL } from \"../Utils/Constants\";\n\nfunction mobileChecker(Component) {\n  const { isMobile } = DeviceDetect();\n\n  if (isMobile) {\n    return <Redirect to={\"/\"} />;\n  } else {\n    console.log(\"On phone\");\n    return function GameRoute(props) {\n      return <Component {...props} />;\n    };\n  }\n}\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      host: false,\n      socket: io.connect(SERVER_URL), // Set up reconnections\n    };\n\n    this.onJoin = this.onJoin.bind(this);\n  }\n\n  componentDidMount() {\n    this.state.socket.once(\"connect\", (data) => {\n      console.log(\"Connected to the server socket...\");\n    });\n\n    const lobby_id = this.props.match.params.lobbyID;\n    const user = this.props.authCreds.auth.user;\n\n    // Listen to socket response to join request\n    this.state.socket.on(\"join\", this.onJoin);\n\n    // Listen to player list updates\n    this.state.socket.on(\"player-list-update\", (lobby) => {\n      this.setState({\n        host: lobby.host.id === user.id,\n        host_info: lobby.host,\n        players: lobby.players,\n      });\n    });\n\n    // listen for score updates\n    this.state.socket.on(\"score\", (res) => {\n      this.setState((prevState) => ({\n        players: prevState.players.map((obj) =>\n          obj.id === res.user_id\n            ? Object.assign(obj, { score: res.score })\n            : obj\n        ),\n      }));\n    });\n\n    // Join socket room\n    this.state.socket.emit(\"join\", {\n      lobby_id: lobby_id,\n      player: {\n        id: user.id,\n        name: user.name,\n        profileKey: user.profileKey,\n      },\n    });\n\n    this.state.socket.on(\"state-change\", (new_state) => {\n      console.log(`Changing state to ${new_state}`);\n      this.setState({\n        state: new_state,\n      });\n      console.log(`Changing game state to ${this.state.state}`);\n    });\n\n    this.state.socket.on(\"disconnect\", (reason) => {\n      console.log(\"Disconnected  from server...\");\n\n      if (\n        reason === \"ping timeout\" ||\n        reason === \"transport close\" ||\n        reason === \"transport error\"\n      ) {\n        console.log(`Disconnection reason: ${reason}`);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.state.socket.offAny([\n      \"state-change\",\n      \"join\",\n      \"score\",\n      \"player-list-update\",\n      \"disconnect\",\n    ]);\n    this.state.socket.disconnect();\n  }\n\n  onJoin(res) {\n    const user = this.props.authCreds.auth.user;\n    if (res.success) {\n      this.setState({\n        host: res.lobby.host.id === user.id,\n        host_info: res.lobby.host,\n        settings: res.lobby.settings,\n        players: res.lobby.players,\n        state: res.lobby.state,\n      });\n    } else {\n      this.props.history.push(\"/\");\n    }\n  }\n\n  pageManager() {\n    // TODO: add spinner for connecting loading\n    if (this.state.state === constants.IN_LOBBY)\n      return (\n        <GameLobbyPage\n          socket={this.state.socket}\n          isHost={this.state.host}\n          players={this.state.players}\n          settings={this.state.settings}\n          hostId={this.state.host_info.id}\n        />\n      );\n\n    if (this.state.state === constants.IN_GAME)\n      return (\n        <GamePage players={this.state.players} socket={this.state.socket} />\n      );\n    if (this.state.state === constants.GAME_ENDED)\n      return (\n        <GameEndingPage\n          players={this.state.players}\n          socket={this.state.socket}\n          isHost={this.state.host}\n        />\n      );\n\n    if (this.state.state === constants.GAME_DISCONNECTED)\n      return <Redirect to={\"/\"} />;\n  }\n\n  render() {\n    return <React.Fragment>{this.pageManager()}</React.Fragment>;\n  }\n}\n\nexport default AuthContext(withRouter(Game));\n","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport \"../styles/AdminPage.css\";\nimport Card from \"react-bootstrap/Card\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { Link } from \"react-router-dom\";\n\nimport { SERVER_URL } from \"../Utils/Constants\";\n\n/*\n JSX For overlay in the middle of screen\n*/\n\nfunction MyOverlay(props) {\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          {props.title}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {props.islog\n          ? props.body.map((element) => <li key={element}>{element}</li>)\n          : props.body}\n      </Modal.Body>\n      <Modal.Footer>\n        <Button\n          onClick={() => {\n            props.onHide();\n          }}\n        >\n          Close\n        </Button>\n        {props.islog ? (\n          \"\"\n        ) : (\n          <Button\n            onClick={() => {\n              props.onHide();\n              props.actionforyes(props.document);\n            }}\n          >\n            Yes\n          </Button>\n        )}\n        {props.islog ? (\n          \"\"\n        ) : (\n          <Button\n            onClick={() => {\n              props.onHide();\n              props.actionforno(props.document);\n            }}\n          >\n            No\n          </Button>\n        )}\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\n/*\nOverlay\n*/\nfunction Overlay(props) {\n  const [modalShow, setModalShow] = React.useState(false);\n  return (\n    <React.Fragment>\n      <Button\n        variant=\"outline-dark\"\n        onClick={() => {\n          setModalShow(true);\n          props.chatLogFunc(props.document);\n        }}\n      >\n        {props.title}\n      </Button>\n      <MyOverlay\n        show={modalShow}\n        option={props.option}\n        onHide={() => {\n          setModalShow(false);\n          props.clearMesFunc();\n        }}\n        title={props.title}\n        body={props.body}\n        islog={props.islog}\n        actionforyes={props.actionforyes}\n        actionforno={props.actionforno}\n        document={props.document}\n      />\n    </React.Fragment>\n  );\n}\n\nexport default class AdminPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messages: [],\n      documents: [],\n      players: [],\n      reasons: [],\n      dates: [],\n      lobbyIDs: [],\n    };\n    this.deleteReport = this.deleteReport.bind(this);\n    this.gettingReport = this.gettingReport.bind(this);\n    this.banPlayer = this.banPlayer.bind(this);\n    this.getChatLog = this.getChatLog.bind(this);\n    this.clearMessages = this.clearMessages.bind(this);\n  }\n  //TODO need to get Report data from database\n\n  componentDidMount() {\n    this.gettingReport();\n  }\n\n  //Fetch reports\n  gettingReport() {\n    fetch(SERVER_URL + \"/report/report\", {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        if (response.status === 200) return response.json();\n        throw new Error(\"failed to get the report\");\n      })\n      .then((responseJson) => {\n        this.setState({\n          documents: responseJson.document,\n          players: responseJson.player,\n          reasons: responseJson.reason,\n          dates: responseJson.date,\n          lobbyIDs: responseJson.lobbyID,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  //Delete report\n  deleteReport(documentID) {\n    console.log(\"delete Report\");\n\n    fetch(SERVER_URL + `/report/delete?documentID=${documentID}`, {\n      method: \"POST\",\n      // credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        // \"Access-Control-Allow-Credentials\": true,\n      },\n    })\n      .then((response) => {\n        if (response.status === 200) return response.json();\n        throw new Error(\"failed create new room\");\n      })\n      .then((responseJson) => {\n        console.log(responseJson);\n        if (responseJson.success) {\n          this.setState({\n            documents: responseJson.document,\n            players: responseJson.player,\n            reasons: responseJson.reason,\n            dates: responseJson.date,\n            lobbyIDs: responseJson.lobbyID,\n          });\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  //Ban Player\n  banPlayer(documentID) {\n    console.log(\"ban player\");\n\n    fetch(SERVER_URL + `/report/ban?documentID=${documentID}`, {\n      method: \"POST\",\n      // credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        // \"Access-Control-Allow-Credentials\": true,\n      },\n    })\n      .then((response) => {\n        if (response.status === 200) return response.json();\n        throw new Error(\"failed create new room\");\n      })\n      .then((responseJson) => {\n        console.log(responseJson);\n        if (responseJson.success) {\n          this.setState({\n            documents: responseJson.document,\n            players: responseJson.player,\n            reasons: responseJson.reason,\n            dates: responseJson.date,\n            lobbyIDs: responseJson.lobbyID,\n          });\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  getChatLog(documentID) {\n    console.log(\"getting chat log\");\n    fetch(SERVER_URL + `/report/chatLog?documentID=${documentID}`, {\n      method: \"GET\",\n      // credentials: \"include\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        // \"Access-Control-Allow-Credentials\": true,\n      },\n    })\n      .then((response) => {\n        if (response.status === 200) return response.json();\n        throw new Error(\"failed create new room\");\n      })\n      .then((responseJson) => {\n        if (responseJson.success) {\n          this.setState({\n            messages: responseJson.message,\n          });\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  clearMessages() {\n    this.setState({\n      messages: [],\n    });\n  }\n  render() {\n    var card = [];\n    var i;\n    for (i = 0; i < this.state.documents.length; i++) {\n      const date = new Date(this.state.dates[i]);\n      card.push(\n        <Card key={i}>\n          <div>\n            <div className=\"myContainer\">\n              <div className=\"PlayerName\">\n                {\" \"}\n                {\"Player: \"}\n                {this.state.players[i]}\n              </div>\n              <div className=\"Date\">\n                {\" \"}\n                {\"Date: \"}\n                {date.getFullYear()}/{date.getMonth() + 1}/{date.getDate()}\n              </div>\n              <div className=\"Reason\">\n                {\" \"}\n                {\"Reason: \"}\n                {this.state.reasons[i]}\n              </div>\n            </div>\n            <div className=\"button-group\">\n              <Overlay\n                option=\"delete\"\n                title=\"Delete Report\"\n                body=\"Are you sure that you wanna delete the report?\"\n                actionforyes={this.deleteReport}\n                chatLogFunc={() => {}}\n                actionforno={() => {}}\n                document={this.state.documents[i]}\n                clearMesFunc={this.clearMessages}\n              />\n              <Overlay\n                option=\"log\"\n                title=\"Chat History\"\n                body={this.state.messages}\n                islog={true}\n                document={this.state.documents[i]}\n                chatLogFunc={this.getChatLog}\n                clearMesFunc={this.clearMessages}\n              />\n              <Overlay\n                option=\"ban\"\n                title=\"Ban player\"\n                body=\"Are you sure that you wanna ban the player?\"\n                actionforyes={this.banPlayer}\n                chatLogFunc={() => {}}\n                actionforno={this.deleteReport}\n                document={this.state.documents[i]}\n                clearMesFunc={this.clearMessages}\n              />\n            </div>\n          </div>\n        </Card>\n      );\n    }\n\n    return (\n      <div className=\"content\">\n        <h3 className=\"Title\">\n          {\"Report\"}\n          <Link to=\"/\">\n            <Button className=\"home\" variant=\"info\">\n              Home\n            </Button>\n          </Link>\n        </h3>\n\n        {card}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Accordion from \"react-bootstrap/Accordion\";\nimport Card from \"react-bootstrap/Card\";\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\";\nimport AuthContext from \"../context/AuthContext\";\nimport NavBar from \"../components/NavBar\";\nimport \"../styles/MatchHistoryPage.css\";\nimport { SERVER_URL } from \"../Utils/Constants\";\n\nclass MatchHistoryPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMessage: \"\",\n      gameHistory: [],\n    };\n    this.getLobbies = this.getLobbies.bind(this);\n    this.getUserPlacementString = this.getUserPlacementString.bind(this);\n    this.getUserScore = this.getUserScore.bind(this);\n  }\n\n  componentDidMount() {\n    this.getLobbies();\n  }\n\n  getLobbies() {\n    fetch(\n      `${SERVER_URL}/profile/matches?userID=${this.props.authCreds.auth.user.id}`,\n      {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n      .then((response) => {\n        if (response.status === 200) return response.json();\n        throw new Error(\"failed get match history\");\n      })\n      .then((responseJson) => {\n        this.setState({\n          gameHistory: responseJson.gameHistory,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({\n          errorMessage: \"Something went wrong getting match history.\",\n        });\n      });\n  }\n\n  getUserPlacementString(match, username) {\n    let placement = match.scores.findIndex((obj) => obj.name === username) + 1;\n    return \"#\" + placement;\n  }\n\n  getUserScore(match, username) {\n    return match.scores.find((obj) => obj.name === username).score;\n  }\n\n  render() {\n    const user = this.props.authCreds.auth.user;\n\n    return (\n      <div className=\"page\">\n        <div className=\"match-history-content\">\n          <NavBar showCreateGame={false} showHome={true}></NavBar>\n          {this.state.errorMessage !== \"\" ? (\n            <h2>{this.state.errorMessage}</h2>\n          ) : (\n            <div className=\"match-history-container\">\n              {this.state.gameHistory && this.state.gameHistory !== [] ? (\n                this.state.gameHistory.map((match, index) => {\n                  return (\n                    <Accordion key={index}>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle\n                            as={Button}\n                            variant=\"Link\"\n                            eventKey={index+1}\n                          >\n                            {new Date(\n                              match.date._seconds * 1000\n                            ).toLocaleString(\"en-US\", {\n                              year: \"numeric\",\n                              month: \"long\",\n                              day: \"numeric\",\n                              hour: \"2-digit\",\n                              minute: \"2-digit\",\n                            })}\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey={index+1}>\n                          <Card.Body>\n                            <div className=\"game-overview\" key={index}>\n                              <div className=\"game-record\">\n                                <h2>\n                                  You placed:{\" \"}\n                                  {this.getUserPlacementString(\n                                    match,\n                                    user.name\n                                  )}\n                                </h2>\n                                <p>\n                                  Your Score:{\" \"}\n                                  {this.getUserScore(match, user.name)}\n                                </p>\n                                <p>Rounds: {match.rounds}</p>\n                                <Table responsive className=\"score-table\">\n                                  <thead>\n                                    <tr>\n                                      <th></th>\n                                      <th>Player</th>\n                                      <th>Score</th>\n                                    </tr>\n                                  </thead>\n                                  <tbody>\n                                    {match.scores\n                                      .sort(function (a, b) {\n                                        return b.score - a.score;\n                                      })\n                                      .map((score, index) => {\n                                        return (\n                                          <tr key={index}>\n                                            <td>{index + 1}</td>\n                                            <td>{score.name}</td>\n                                            <td>{score.score}</td>\n                                          </tr>\n                                        );\n                                      })}\n                                  </tbody>\n                                </Table>\n                              </div>\n                            </div>\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                    </Accordion>\n                  );\n                })\n              ) : (\n                <h3>\n                  No matches found, play a game and when you finish the game\n                  history will be here!\n                </h3>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AuthContext(MatchHistoryPage);\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport ProtectedRoute from \"./Utils/ProtectedRoute\";\n\nimport LoginPage from \"./pages/LoginPage\";\nimport HomePage from \"./pages/HomePage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport Game from \"./pages/Game\";\nimport AdminPage from \"./pages/AdminPage\";\nimport BanPage from \"./pages/BanPage\";\nimport MatchHistoryPage from \"./pages/MatchHistoryPage\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Router>\n          <Switch>\n            <Route exact path=\"/login\" component={LoginPage} />\n            <ProtectedRoute exact path=\"/\" component={HomePage} />\n            <ProtectedRoute exact path=\"/banPage\" component={BanPage} />\n            <ProtectedRoute exact path=\"/profile\" component={ProfilePage} />\n            <ProtectedRoute exact path=\"/game/:lobbyID\" component={Game} />\n            <ProtectedRoute exact path=\"/history\" component={MatchHistoryPage} />\n            <ProtectedRoute exact path=\"/report\" component={AdminPage} />\n          </Switch>\n        </Router>\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { AuthProvider } from \"./context/auth-context\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}